(self.webpackChunkweb_gdansk=self.webpackChunkweb_gdansk||[]).push([[291],{2262:(t,e,i)=>{"use strict";i(7280),i(124),i(4252),i(5156),i(7700),i(6732),i(5869);const o={getBootstrapVersion(){let t=5;try{const e=$.fn.dropdown.Constructor.VERSION;void 0!==e&&(t=parseInt(e,10))}catch(t){}try{const e=bootstrap.Tooltip.VERSION;void 0!==e&&(t=parseInt(e,10))}catch(t){}return t},getIconsPrefix:t=>({bootstrap3:"glyphicon",bootstrap4:"fa",bootstrap5:"bi","bootstrap-table":"icon",bulma:"fa",foundation:"fa",materialize:"material-icons",semantic:"fa"}[t]||"fa"),getIcons:t=>({glyphicon:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},fa:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},bi:{paginationSwitchDown:"bi-caret-down-square",paginationSwitchUp:"bi-caret-up-square",refresh:"bi-arrow-clockwise",toggleOff:"bi-toggle-off",toggleOn:"bi-toggle-on",columns:"bi-list-ul",detailOpen:"bi-plus",detailClose:"bi-dash",fullscreen:"bi-arrows-move",search:"bi-search",clearSearch:"bi-trash"},icon:{paginationSwitchDown:"icon-arrow-up-circle",paginationSwitchUp:"icon-arrow-down-circle",refresh:"icon-refresh-cw",toggleOff:"icon-toggle-right",toggleOn:"icon-toggle-right",columns:"icon-list",detailOpen:"icon-plus",detailClose:"icon-minus",fullscreen:"icon-maximize",search:"icon-search",clearSearch:"icon-trash-2"},"material-icons":{paginationSwitchDown:"grid_on",paginationSwitchUp:"grid_off",refresh:"refresh",toggleOff:"tablet",toggleOn:"tablet_android",columns:"view_list",detailOpen:"add",detailClose:"remove",fullscreen:"fullscreen",sort:"sort",search:"search",clearSearch:"delete"}}[t]),getSearchInput:t=>"string"==typeof t.options.searchSelector?$(t.options.searchSelector):t.$toolbar.find(".search input"),extend(...t){let e,i=t[0]||{},o=1,s=!1;for("boolean"==typeof i&&(s=i,i=t[o]||{},o++),"object"!=typeof i&&"function"!=typeof i&&(i={});o<t.length;o++){const n=t[o];if(null!=n)for(const t in n){const o=n[t];if("__proto__"===t||i===o)continue;const a=Array.isArray(o);if(s&&o&&(this.isObject(o)||a)){const n=i[t];if(a&&Array.isArray(n)&&n.every((t=>!this.isObject(t)&&!Array.isArray(t)))){i[t]=o;continue}e=a&&!Array.isArray(n)?[]:a||this.isObject(n)?n:{},i[t]=this.extend(s,e,o)}else void 0!==o&&(i[t]=o)}}return i},sprintf(t,...e){let i=!0,o=0;const s=t.replace(/%s/g,(()=>{const t=e[o++];return void 0===t?(i=!1,""):t}));return i?s:""},isObject:t=>"object"==typeof t&&null!==t&&!Array.isArray(t),isEmptyObject:(t={})=>0===Object.entries(t).length&&t.constructor===Object,isNumeric:t=>!isNaN(parseFloat(t))&&isFinite(t),getFieldTitle(t,e){for(const i of t)if(i.field===e)return i.title;return""},setFieldIndex(t){let e=0;const i=[];for(const i of t[0])e+=i.colspan||1;for(let o=0;o<t.length;o++){i[o]=[];for(let t=0;t<e;t++)i[o][t]=!1}for(let e=0;e<t.length;e++)for(const o of t[e]){const t=o.rowspan||1,s=o.colspan||1,n=i[e].indexOf(!1);o.colspanIndex=n,1===s?(o.fieldIndex=n,void 0===o.field&&(o.field=n)):o.colspanGroup=o.colspan;for(let o=0;o<t;o++)for(let t=0;t<s;t++)i[e+o][n+t]=!0}},normalizeAccent:t=>"string"!=typeof t?t:t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),updateFieldGroup(t,e){const i=[].concat(...t);for(const e of t)for(const t of e)if(t.colspanGroup>1){let e=0;for(let o=t.colspanIndex;o<t.colspanIndex+t.colspanGroup;o++){i.find((t=>t.fieldIndex===o)).visible&&e++}t.colspan=e,t.visible=e>0}if(!(t.length<2))for(const t of e){const e=i.filter((e=>e.fieldIndex===t.fieldIndex));if(e.length>1)for(const i of e)i.visible=t.visible}},getScrollBarWidth(){if(void 0===this.cachedWidth){const t=$("<div/>").addClass("fixed-table-scroll-inner"),e=$("<div/>").addClass("fixed-table-scroll-outer");e.append(t),$("body").append(e);const i=t[0].offsetWidth;e.css("overflow","scroll");let o=t[0].offsetWidth;i===o&&(o=e[0].clientWidth),e.remove(),this.cachedWidth=i-o}return this.cachedWidth},calculateObjectValue(t,e,i,o){let s=e;if("string"==typeof e){const t=e.split(".");if(t.length>1){s=window;for(const e of t)s=s[e]}else s=window[e]}return null!==s&&"object"==typeof s?s:"function"==typeof s?s.apply(t,i||[]):!s&&"string"==typeof e&&i&&this.sprintf(e,...i)?this.sprintf(e,...i):o},compareObjects(t,e,i){const o=Object.keys(t),s=Object.keys(e);if(i&&o.length!==s.length)return!1;for(const i of o)if(s.includes(i)&&t[i]!==e[i])return!1;return!0},regexCompare(t,e){try{const i=e.match(/^\/(.*?)\/([gim]*)$/);if(-1!==t.toString().search(i?new RegExp(i[1],i[2]):new RegExp(e,"gim")))return!0}catch(t){return!1}return!1},escapeApostrophe:t=>t.toString().replace(/'/g,"&#39;"),escapeHTML:t=>t?t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):t,unescapeHTML:t=>"string"==typeof t&&t?t.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"):t,removeHTML:t=>t?t.toString().replace(/(<([^>]+)>)/gi,"").replace(/&[#A-Za-z0-9]+;/gi,"").trim():t,getRealDataAttr(t){for(const[e,i]of Object.entries(t)){const o=e.split(/(?=[A-Z])/).join("-").toLowerCase();o!==e&&(t[o]=i,delete t[e])}return t},getItemField(t,e,i,o=void 0){let s=t;if(void 0!==o&&(i=o),"string"!=typeof e||t.hasOwnProperty(e))return i?this.escapeHTML(t[e]):t[e];const n=e.split(".");for(const t of n)s=s&&s[t];return i?this.escapeHTML(s):s},isIEBrowser:()=>navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent),findIndex(t,e){for(const i of t)if(JSON.stringify(i)===JSON.stringify(e))return t.indexOf(i);return-1},trToData(t,e){const i=[],o=[];return e.each(((e,s)=>{const n=$(s),a={};a._id=n.attr("id"),a._class=n.attr("class"),a._data=this.getRealDataAttr(n.data()),a._style=n.attr("style"),n.find(">td,>th").each(((i,s)=>{const n=$(s),r=+n.attr("colspan")||1,l=+n.attr("rowspan")||1;let c=i;for(;o[e]&&o[e][c];c++);for(let t=c;t<c+r;t++)for(let i=e;i<e+l;i++)o[i]||(o[i]=[]),o[i][t]=!0;const h=t[c].field;a[h]=this.escapeApostrophe(n.html().trim()),a[`_${h}_id`]=n.attr("id"),a[`_${h}_class`]=n.attr("class"),a[`_${h}_rowspan`]=n.attr("rowspan"),a[`_${h}_colspan`]=n.attr("colspan"),a[`_${h}_title`]=n.attr("title"),a[`_${h}_data`]=this.getRealDataAttr(n.data()),a[`_${h}_style`]=n.attr("style")})),i.push(a)})),i},sort(t,e,i,o,s,n){if(null==t&&(t=""),null==e&&(e=""),o.sortStable&&t===e&&(t=s,e=n),this.isNumeric(t)&&this.isNumeric(e))return(t=parseFloat(t))<(e=parseFloat(e))?-1*i:t>e?i:0;if(o.sortEmptyLast){if(""===t)return 1;if(""===e)return-1}return t===e?0:("string"!=typeof t&&(t=t.toString()),-1===t.localeCompare(e)?-1*i:i)},getEventName:(t,e="")=>`${t}-${e=e||`${+new Date}${~~(1e6*Math.random())}`}`,hasDetailViewIcon:t=>t.detailView&&t.detailViewIcon&&!t.cardView,getDetailViewIndexOffset(t){return this.hasDetailViewIcon(t)&&"right"!==t.detailViewAlign?1:0},checkAutoMergeCells(t){for(const e of t)for(const t of Object.keys(e))if(t.startsWith("_")&&(t.endsWith("_rowspan")||t.endsWith("_colspan")))return!0;return!1},deepCopy(t){return void 0===t?t:this.extend(!0,Array.isArray(t)?[]:{},t)},debounce(t,e,i){let o;return function(){const s=this,n=arguments,a=i&&!o;clearTimeout(o),o=setTimeout((function(){o=null,i||t.apply(s,n)}),e),a&&t.apply(s,n)}}},s=o.getBootstrapVersion(),n={3:{classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"input-group",inputPrefix:"input-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],toolbarDropdownItem:'<li class="dropdown-item-marker" role="menuitem"><label>%s</label></li>',toolbarDropdownSeparator:'<li class="divider"></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<span class="input-group-btn">%s</span></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},4:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s<div class="input-group-append">%s</div></div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}},5:{classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"btn-group",inputPrefix:"form-control-",input:"form-control",select:"form-select",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active",buttonActive:"active"},html:{dataToggle:"data-bs-toggle",toolbarDropdown:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toolbarDropdownItem:'<label class="dropdown-item dropdown-item-marker">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>',toolbarDropdownSeparator:'<div class="dropdown-divider"></div>',dropdownCaret:'<span class="caret"></span>',pagination:['<ul class="pagination%s">',"</ul>"],paginationItem:'<li class="page-item%s"><a class="page-link" aria-label="%s" href="javascript:void(0)">%s</a></li>',icon:'<i class="%s %s"></i>',inputGroup:'<div class="input-group">%s%s</div>',searchInput:'<input class="%s%s" type="text" placeholder="%s">',searchButton:'<button class="%s" type="button" name="search" title="%s">%s %s</button>',searchClearButton:'<button class="%s" type="button" name="clearSearch" title="%s">%s %s</button>'}}}[s],a={height:void 0,classes:"table table-bordered table-hover",buttons:{},theadClasses:"",headerStyle:t=>({}),rowStyle:(t,e)=>({}),rowAttributes:(t,e)=>({}),undefinedText:"-",locale:void 0,virtualScroll:!1,virtualScrollItemHeight:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortEmptyLast:!1,sortName:void 0,sortOrder:void 0,sortReset:!1,sortStable:!1,sortResetPage:!1,rememberOrder:!1,serverSort:!0,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:t=>t,queryParamsType:"limit",responseHandler:t=>t,totalField:"total",totalNotFilteredField:"totalNotFiltered",dataField:"rows",footerField:"footer",pagination:!1,paginationParts:["pageInfo","pageSize","pageList"],showExtendedPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,totalNotFiltered:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchable:!1,searchHighlight:!1,searchOnEnterKey:!1,strictSearch:!1,regexSearch:!1,searchSelector:!1,visibleSearch:!1,showButtonIcons:!0,showButtonText:!1,showSearchButton:!1,showSearchClearButton:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:t=>({}),searchAccentNeutralise:!1,showColumns:!1,showColumnsToggleAll:!1,showColumnsSearch:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,escapeTitle:!0,filterOptions:{filterAlgorithm:"and"},idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:({tagName:t})=>["A","BUTTON"].includes(t),singleSelect:!1,checkboxHeader:!0,maintainMetaData:!1,multipleSelectRow:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailViewIcon:!0,detailViewByClick:!1,detailViewAlign:"left",detailFormatter:(t,e)=>"",detailFilter:(t,e)=>!0,toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsOrder:["paginationSwitch","refresh","toggle","fullscreen","columns"],buttonsPrefix:n.classes.buttonsPrefix,buttonsClass:n.classes.buttons,iconsPrefix:void 0,icons:{},iconSize:void 0,loadingFontSize:"auto",loadingTemplate:t=>`<span class="loading-wrap">\n      <span class="loading-text">${t}</span>\n      <span class="animation-wrap"><span class="animation-dot"></span></span>\n      </span>\n    `,onAll:(t,e)=>!1,onClickCell:(t,e,i,o)=>!1,onDblClickCell:(t,e,i,o)=>!1,onClickRow:(t,e)=>!1,onDblClickRow:(t,e)=>!1,onSort:(t,e)=>!1,onCheck:t=>!1,onUncheck:t=>!1,onCheckAll:t=>!1,onUncheckAll:t=>!1,onCheckSome:t=>!1,onUncheckSome:t=>!1,onLoadSuccess:t=>!1,onLoadError:t=>!1,onColumnSwitch:(t,e)=>!1,onColumnSwitchAll:t=>!1,onPageChange:(t,e)=>!1,onSearch:t=>!1,onToggle:t=>!1,onPreBody:t=>!1,onPostBody:()=>!1,onPostHeader:()=>!1,onPostFooter:()=>!1,onExpandRow:(t,e,i)=>!1,onCollapseRow:(t,e)=>!1,onRefreshOptions:t=>!1,onRefresh:t=>!1,onResetView:()=>!1,onScrollBody:()=>!1,onTogglePagination:t=>!1,onVirtualScroll:(t,e)=>!1},r={formatLoadingMessage:()=>"Loading, please wait",formatRecordsPerPage:t=>`${t} rows per page`,formatShowingRows:(t,e,i,o)=>void 0!==o&&o>0&&o>i?`Showing ${t} to ${e} of ${i} rows (filtered from ${o} total rows)`:`Showing ${t} to ${e} of ${i} rows`,formatSRPaginationPreText:()=>"previous page",formatSRPaginationPageText:t=>`to page ${t}`,formatSRPaginationNextText:()=>"next page",formatDetailPagination:t=>`Showing ${t} rows`,formatSearch:()=>"Search",formatClearSearch:()=>"Clear Search",formatNoMatches:()=>"No matching records found",formatPaginationSwitch:()=>"Hide/Show pagination",formatPaginationSwitchDown:()=>"Show pagination",formatPaginationSwitchUp:()=>"Hide pagination",formatRefresh:()=>"Refresh",formatToggleOn:()=>"Show card view",formatToggleOff:()=>"Hide card view",formatColumns:()=>"Columns",formatColumnsToggleAll:()=>"Toggle all",formatFullscreen:()=>"Fullscreen",formatAllRows:()=>"All"},l={field:void 0,title:void 0,titleTooltip:void 0,class:void 0,width:void 0,widthUnit:"px",rowspan:void 0,colspan:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,cellStyle:void 0,radio:!1,checkbox:!1,checkboxEnabled:!0,clickToSelect:!0,showSelectTitle:!1,sortable:!1,sortName:void 0,order:"asc",sorter:void 0,visible:!0,switchable:!0,cardVisible:!0,searchable:!0,formatter:void 0,footerFormatter:void 0,detailFormatter:void 0,searchFormatter:!0,searchHighlightFormatter:!1,escape:void 0,events:void 0};Object.assign(a,r);const c={VERSION:"1.21.4",THEME:`bootstrap${s}`,CONSTANTS:n,DEFAULTS:a,COLUMN_DEFAULTS:l,METHODS:["getOptions","refreshOptions","getData","getSelections","load","append","prepend","remove","removeAll","insertRow","updateRow","getRowByUniqueId","updateByUniqueId","removeByUniqueId","updateCell","updateCellByUniqueId","showRow","hideRow","getHiddenRows","showColumn","hideColumn","getVisibleColumns","getHiddenColumns","showAllColumns","hideAllColumns","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","destroy","resetView","showLoading","hideLoading","togglePagination","toggleFullscreen","toggleView","resetSearch","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","toggleDetailView","expandRow","collapseRow","expandRowByUniqueId","collapseRowByUniqueId","expandAllRows","collapseAllRows","updateColumnTitle","updateFormatText"],EVENTS:{"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","column-switch-all.bs.table":"onColumnSwitchAll","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","post-footer.bs.table":"onPostFooter","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody","toggle-pagination.bs.table":"onTogglePagination","virtual-scroll.bs.table":"onVirtualScroll"},LOCALES:{en:r,"en-US":r}};const h=class{constructor(t){this.rows=t.rows,this.scrollEl=t.scrollEl,this.contentEl=t.contentEl,this.callback=t.callback,this.itemHeight=t.itemHeight,this.cache={},this.scrollTop=this.scrollEl.scrollTop,this.initDOM(this.rows,t.fixedScroll),this.scrollEl.scrollTop=this.scrollTop,this.lastCluster=0;const e=()=>{this.lastCluster!==(this.lastCluster=this.getNum())&&(this.initDOM(this.rows),this.callback(this.startIndex,this.endIndex))};this.scrollEl.addEventListener("scroll",e,!1),this.destroy=()=>{this.contentEl.innerHtml="",this.scrollEl.removeEventListener("scroll",e,!1)}}initDOM(t,e){void 0===this.clusterHeight&&(this.cache.scrollTop=this.scrollEl.scrollTop,this.cache.data=this.contentEl.innerHTML=t[0]+t[0]+t[0],this.getRowsHeight(t));const i=this.initData(t,this.getNum(e)),o=i.rows.join(""),s=this.checkChanges("data",o),n=this.checkChanges("top",i.topOffset),a=this.checkChanges("bottom",i.bottomOffset),r=[];s&&n?(i.topOffset&&r.push(this.getExtra("top",i.topOffset)),r.push(o),i.bottomOffset&&r.push(this.getExtra("bottom",i.bottomOffset)),this.startIndex=i.start,this.endIndex=i.end,this.contentEl.innerHTML=r.join(""),e&&(this.contentEl.scrollTop=this.cache.scrollTop)):a&&(this.contentEl.lastChild.style.height=`${i.bottomOffset}px`)}getRowsHeight(){if(void 0===this.itemHeight){const t=this.contentEl.children,e=t[Math.floor(t.length/2)];this.itemHeight=e.offsetHeight}this.blockHeight=50*this.itemHeight,this.clusterRows=200,this.clusterHeight=4*this.blockHeight}getNum(t){return this.scrollTop=t?this.cache.scrollTop:this.scrollEl.scrollTop,Math.floor(this.scrollTop/(this.clusterHeight-this.blockHeight))||0}initData(t,e){if(t.length<50)return{topOffset:0,bottomOffset:0,rowsAbove:0,rows:t};const i=Math.max((this.clusterRows-50)*e,0),o=i+this.clusterRows,s=Math.max(i*this.itemHeight,0),n=Math.max((t.length-o)*this.itemHeight,0),a=[];let r=i;s<1&&r++;for(let e=i;e<o;e++)t[e]&&a.push(t[e]);return{start:i,end:o,topOffset:s,bottomOffset:n,rowsAbove:r,rows:a}}checkChanges(t,e){const i=e!==this.cache[t];return this.cache[t]=e,i}getExtra(t,e){const i=document.createElement("tr");return i.className=`virtual-scroll-${t}`,e&&(i.style.height=`${e}px`),i.outerHTML}};class d{constructor(t,e){this.options=e,this.$el=$(t),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0}init(){this.initConstants(),this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}initConstants(){const t=this.options;this.constants=c.CONSTANTS,this.constants.theme=$.fn.bootstrapTable.theme,this.constants.dataToggle=this.constants.html.dataToggle||"data-toggle";const e=o.getIconsPrefix($.fn.bootstrapTable.theme),i=o.getIcons(e);"string"==typeof t.icons&&(t.icons=o.calculateObjectValue(null,t.icons)),t.iconsPrefix=t.iconsPrefix||$.fn.bootstrapTable.defaults.iconsPrefix||e,t.icons=Object.assign(i,$.fn.bootstrapTable.defaults.icons,t.icons);const s=t.buttonsPrefix?`${t.buttonsPrefix}-`:"";this.constants.buttonsClass=[t.buttonsPrefix,s+t.buttonsClass,o.sprintf(`${s}%s`,t.iconSize)].join(" ").trim(),this.buttons=o.calculateObjectValue(this,t.buttons,[],{}),"object"!=typeof this.buttons&&(this.buttons={})}initLocale(){if(this.options.locale){const t=$.fn.bootstrapTable.locales,e=this.options.locale.split(/-|_/);e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase());let i={};t[this.options.locale]?i=t[this.options.locale]:t[e.join("-")]?i=t[e.join("-")]:t[e[0]]&&(i=t[e[0]]);for(const[t,e]of Object.entries(i))this.options[t]===d.DEFAULTS[t]&&(this.options[t]=e)}}initContainer(){const t=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",e=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"",i=o.calculateObjectValue(this.options,this.options.loadingTemplate,[this.options.formatLoadingMessage()]);this.$container=$(`\n      <div class="bootstrap-table ${this.constants.theme}">\n      <div class="fixed-table-toolbar"></div>\n      ${t}\n      <div class="fixed-table-container">\n      <div class="fixed-table-header"><table></table></div>\n      <div class="fixed-table-body">\n      <div class="fixed-table-loading">\n      ${i}\n      </div>\n      </div>\n      <div class="fixed-table-footer"></div>\n      </div>\n      ${e}\n      </div>\n    `),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$el.find("tfoot"),this.options.buttonsToolbar?this.$toolbar=$("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.$tableLoading.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),this.options.classes.split(" ").includes("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")),this.$tableFooter=this.$container.find(".fixed-table-footer"))}initTable(){const t=[];if(this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=$(`<thead class="${this.options.theadClasses}"></thead>`).appendTo(this.$el),this._headerTrClasses=[],this._headerTrStyles=[],this.$header.find("tr").each(((e,i)=>{const s=$(i),n=[];s.find("th").each(((t,e)=>{const i=$(e);void 0!==i.data("field")&&i.data("field",`${i.data("field")}`);const s=Object.assign({},i.data());for(const t in s)$.fn.bootstrapTable.columnDefaults.hasOwnProperty(t)&&delete s[t];n.push(o.extend({},{_data:o.getRealDataAttr(s),title:i.html(),class:i.attr("class"),titleTooltip:i.attr("title"),rowspan:i.attr("rowspan")?+i.attr("rowspan"):void 0,colspan:i.attr("colspan")?+i.attr("colspan"):void 0},i.data()))})),t.push(n),s.attr("class")&&this._headerTrClasses.push(s.attr("class")),s.attr("style")&&this._headerTrStyles.push(s.attr("style"))})),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=o.extend(!0,[],t,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],o.setFieldIndex(this.options.columns),this.options.columns.forEach(((t,e)=>{t.forEach(((t,i)=>{const s=o.extend({},d.COLUMN_DEFAULTS,t,{passed:t});void 0!==s.fieldIndex&&(this.columns[s.fieldIndex]=s,this.fieldsColumnsIndex[s.field]=s.fieldIndex),this.options.columns[e][i]=s}))})),!this.options.data.length){const t=o.trToData(this.columns,this.$el.find(">tbody>tr"));t.length&&(this.options.data=t,this.fromHtml=!0)}this.options.pagination&&"server"!==this.options.sidePagination||(this.footerData=o.trToData(this.columns,this.$el.find(">tfoot>tr"))),this.footerData&&this.$el.find("tfoot").html("<tr></tr>"),!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}initHeader(){const t={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],detailFormatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},o.updateFieldGroup(this.options.columns,this.columns),this.options.columns.forEach(((i,s)=>{const n=[];n.push(`<tr${o.sprintf(' class="%s"',this._headerTrClasses[s])} ${o.sprintf(' style="%s"',this._headerTrStyles[s])}>`);let a="";if(0===s&&o.hasDetailViewIcon(this.options)){a=`<th class="detail"${this.options.columns.length>1?` rowspan="${this.options.columns.length}"`:""}>\n          <div class="fht-cell"></div>\n          </th>`}a&&"right"!==this.options.detailViewAlign&&n.push(a),i.forEach(((e,i)=>{const a=o.sprintf(' class="%s"',e.class),r=e.widthUnit,l=parseFloat(e.width),c=e.halign?e.halign:e.align,h=o.sprintf("text-align: %s; ",c),d=o.sprintf("text-align: %s; ",e.align);let p=o.sprintf("vertical-align: %s; ",e.valign);if(p+=o.sprintf("width: %s; ",!e.checkbox&&!e.radio||l?l?l+r:void 0:e.showSelectTitle?void 0:"36px"),void 0===e.fieldIndex&&!e.visible)return;const u=o.calculateObjectValue(null,this.options.headerStyle,[e]),f=[],g=[];let b="";if(u&&u.css)for(const[t,e]of Object.entries(u.css))f.push(`${t}: ${e}`);if(u&&u.classes&&(b=o.sprintf(' class="%s"',e.class?[e.class,u.classes].join(" "):u.classes)),void 0!==e.fieldIndex){if(this.header.fields[e.fieldIndex]=e.field,this.header.styles[e.fieldIndex]=d+p,this.header.classes[e.fieldIndex]=a,this.header.formatters[e.fieldIndex]=e.formatter,this.header.detailFormatters[e.fieldIndex]=e.detailFormatter,this.header.events[e.fieldIndex]=e.events,this.header.sorters[e.fieldIndex]=e.sorter,this.header.sortNames[e.fieldIndex]=e.sortName,this.header.cellStyles[e.fieldIndex]=e.cellStyle,this.header.searchables[e.fieldIndex]=e.searchable,!e.visible)return;if(this.options.cardView&&!e.cardVisible)return;t[e.field]=e}if(Object.keys(e._data||{}).length>0)for(const[t,i]of Object.entries(e._data))g.push(`data-${t}='${"object"==typeof i?JSON.stringify(i):i}'`);n.push(`<th${o.sprintf(' title="%s"',e.titleTooltip)}`,e.checkbox||e.radio?o.sprintf(' class="bs-checkbox %s"',e.class||""):b||a,o.sprintf(' style="%s"',h+p+f.join("; ")),o.sprintf(' rowspan="%s"',e.rowspan),o.sprintf(' colspan="%s"',e.colspan),o.sprintf(' data-field="%s"',e.field),0===i&&s>0?" data-not-first-th":"",g.length>0?g.join(" "):"",">"),n.push(o.sprintf('<div class="th-inner %s">',this.options.sortable&&e.sortable?`sortable${"center"===c?" sortable-center":""} both`:""));let m=this.options.escape&&this.options.escapeTitle?o.escapeHTML(e.title):e.title;const y=m;e.checkbox&&(m="",!this.options.singleSelect&&this.options.checkboxHeader&&(m='<label><input name="btSelectAll" type="checkbox" /><span></span></label>'),this.header.stateField=e.field),e.radio&&(m="",this.header.stateField=e.field),!m&&e.showSelectTitle&&(m+=y),n.push(m),n.push("</div>"),n.push('<div class="fht-cell"></div>'),n.push("</div>"),n.push("</th>")})),a&&"right"===this.options.detailViewAlign&&n.push(a),n.push("</tr>"),n.length>3&&e.push(n.join(""))})),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(((e,i)=>{$(i).data(t[$(i).data("field")])})),this.$container.off("click",".th-inner").on("click",".th-inner",(t=>{const e=$(t.currentTarget);if(this.options.detailView&&!e.parent().hasClass("bs-checkbox")&&e.closest(".bootstrap-table")[0]!==this.$container[0])return!1;this.options.sortable&&e.parent().data().sortable&&this.onSort(t)}));const i=o.getEventName("resize.bootstrap-table",this.$el.attr("id"));$(window).off(i),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),$(window).on(i,(()=>this.resetView()))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",(t=>{t.stopPropagation();this[$(t.currentTarget).prop("checked")?"checkAll":"uncheckAll"](),this.updateSelected()}))}initData(t,e){"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):(t=t||o.deepCopy(this.options.data),this.options.data=Array.isArray(t)?t:t[this.options.dataField]),this.data=[...this.options.data],this.options.sortReset&&(this.unsortedData=[...this.data]),"server"!==this.options.sidePagination&&this.initSort()}initSort(){let t=this.options.sortName;const e="desc"===this.options.sortOrder?-1:1,i=this.header.fields.indexOf(this.options.sortName);let s=0;-1!==i?(this.options.sortStable&&this.data.forEach(((t,e)=>{t.hasOwnProperty("_position")||(t._position=e)})),this.options.customSort?o.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort(((s,n)=>{this.header.sortNames[i]&&(t=this.header.sortNames[i]);const a=o.getItemField(s,t,this.options.escape),r=o.getItemField(n,t,this.options.escape),l=o.calculateObjectValue(this.header,this.header.sorters[i],[a,r,s,n]);return void 0!==l?this.options.sortStable&&0===l?e*(s._position-n._position):e*l:o.sort(a,r,e,this.options,s._position,n._position)})),void 0!==this.options.sortClass&&(clearTimeout(s),s=setTimeout((()=>{this.$el.removeClass(this.options.sortClass);const t=this.$header.find(`[data-field="${this.options.sortName}"]`).index();this.$el.find(`tr td:nth-child(${t+1})`).addClass(this.options.sortClass)}),250))):this.options.sortReset&&(this.data=[...this.unsortedData])}onSort({type:t,currentTarget:e}){const i="keypress"===t?$(e):$(e).parent(),o=this.$header.find("th").eq(i.index());if(this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")){const t=this.options.sortOrder,e=this.columns[this.fieldsColumnsIndex[i.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[i.data("field")]].order;void 0===t?this.options.sortOrder="asc":"asc"===t?this.options.sortOrder=this.options.sortReset?"asc"===e?"desc":void 0:"desc":"desc"===this.options.sortOrder&&(this.options.sortOrder=this.options.sortReset?"desc"===e?"asc":void 0:"asc"),void 0===this.options.sortOrder&&(this.options.sortName=void 0)}else this.options.sortName=i.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===i.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[i.data("field")]].sortOrder||this.columns[this.fieldsColumnsIndex[i.data("field")]].order;if(this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(o).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination&&this.options.serverSort)return this.options.pageNumber=1,void this.initServer(this.options.silentSort);this.options.pagination&&this.options.sortResetPage&&(this.options.pageNumber=1,this.initPagination()),this.initSort(),this.initBody()}initToolbar(){const t=this.options;let e,i=[],s=0,n=0;this.$toolbar.find(".bs-bars").children().length&&$("body").append($(t.toolbar)),this.$toolbar.html(""),"string"!=typeof t.toolbar&&"object"!=typeof t.toolbar||$(o.sprintf('<div class="bs-bars %s-%s"></div>',this.constants.classes.pull,t.toolbarAlign)).appendTo(this.$toolbar).append($(t.toolbar)),i=[`<div class="${["columns",`columns-${t.buttonsAlign}`,this.constants.classes.buttonsGroup,`${this.constants.classes.pull}-${t.buttonsAlign}`].join(" ")}">`],"string"==typeof t.buttonsOrder&&(t.buttonsOrder=t.buttonsOrder.replace(/\[|\]| |'/g,"").split(",")),this.buttons=Object.assign(this.buttons,{paginationSwitch:{text:t.pagination?t.formatPaginationSwitchUp():t.formatPaginationSwitchDown(),icon:t.pagination?t.icons.paginationSwitchDown:t.icons.paginationSwitchUp,render:!1,event:this.togglePagination,attributes:{"aria-label":t.formatPaginationSwitch(),title:t.formatPaginationSwitch()}},refresh:{text:t.formatRefresh(),icon:t.icons.refresh,render:!1,event:this.refresh,attributes:{"aria-label":t.formatRefresh(),title:t.formatRefresh()}},toggle:{text:t.formatToggleOn(),icon:t.icons.toggleOff,render:!1,event:this.toggleView,attributes:{"aria-label":t.formatToggleOn(),title:t.formatToggleOn()}},fullscreen:{text:t.formatFullscreen(),icon:t.icons.fullscreen,render:!1,event:this.toggleFullscreen,attributes:{"aria-label":t.formatFullscreen(),title:t.formatFullscreen()}},columns:{render:!1,html:()=>{const e=[];if(e.push(`<div class="keep-open ${this.constants.classes.buttonsDropdown}" title="${t.formatColumns()}">\n            <button class="${this.constants.buttonsClass} dropdown-toggle" type="button" ${this.constants.dataToggle}="dropdown"\n            aria-label="${t.formatColumns()}" title="${t.formatColumns()}">\n            ${t.showButtonIcons?o.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.columns):""}\n            ${t.showButtonText?t.formatColumns():""}\n            ${this.constants.html.dropdownCaret}\n            </button>\n            ${this.constants.html.toolbarDropdown[0]}`),t.showColumnsSearch&&(e.push(o.sprintf(this.constants.html.toolbarDropdownItem,o.sprintf('<input type="text" class="%s" name="columnsSearch" placeholder="%s" autocomplete="off">',this.constants.classes.input,t.formatSearch()))),e.push(this.constants.html.toolbarDropdownSeparator)),t.showColumnsToggleAll){const i=this.getVisibleColumns().length===this.columns.filter((t=>!this.isSelectionColumn(t))).length;e.push(o.sprintf(this.constants.html.toolbarDropdownItem,o.sprintf('<input type="checkbox" class="toggle-all" %s> <span>%s</span>',i?'checked="checked"':"",t.formatColumnsToggleAll()))),e.push(this.constants.html.toolbarDropdownSeparator)}let i=0;return this.columns.forEach((t=>{t.visible&&i++})),this.columns.forEach(((s,a)=>{if(this.isSelectionColumn(s))return;if(t.cardView&&!s.cardVisible)return;const r=s.visible?' checked="checked"':"",l=i<=t.minimumCountColumns&&r?' disabled="disabled"':"";s.switchable&&(e.push(o.sprintf(this.constants.html.toolbarDropdownItem,o.sprintf('<input type="checkbox" data-field="%s" value="%s"%s%s> <span>%s</span>',s.field,a,r,l,s.title))),n++)})),e.push(this.constants.html.toolbarDropdown[1],"</div>"),e.join("")}}});const a={};for(const[e,i]of Object.entries(this.buttons)){let s;if(i.hasOwnProperty("html"))"function"==typeof i.html?s=i.html():"string"==typeof i.html&&(s=i.html);else{if(s=`<button class="${this.constants.buttonsClass}" type="button" name="${e}"`,i.hasOwnProperty("attributes"))for(const[t,e]of Object.entries(i.attributes))s+=` ${t}="${e}"`;s+=">",t.showButtonIcons&&i.hasOwnProperty("icon")&&(s+=`${o.sprintf(this.constants.html.icon,t.iconsPrefix,i.icon)} `),t.showButtonText&&i.hasOwnProperty("text")&&(s+=i.text),s+="</button>"}a[e]=s;const n=`show${e.charAt(0).toUpperCase()}${e.substring(1)}`,r=t[n];!(!i.hasOwnProperty("render")||i.hasOwnProperty("render")&&i.render)||void 0!==r&&!0!==r||(t[n]=!0),t.buttonsOrder.includes(e)||t.buttonsOrder.push(e)}for(const e of t.buttonsOrder){t[`show${e.charAt(0).toUpperCase()}${e.substring(1)}`]&&i.push(a[e])}i.push("</div>"),(this.showToolbar||i.length>2)&&this.$toolbar.append(i.join(""));for(const[t,e]of Object.entries(this.buttons))if(e.hasOwnProperty("event")){if("function"==typeof e.event||"string"==typeof e.event){const i="string"==typeof e.event?window[e.event]:e.event;this.$toolbar.find(`button[name="${t}"]`).off("click").on("click",(()=>i.call(this)));continue}for(const[i,o]of Object.entries(e.event)){const e="string"==typeof o?window[o]:o;this.$toolbar.find(`button[name="${t}"]`).off(i).on(i,(()=>e.call(this)))}}if(t.showColumns){e=this.$toolbar.find(".keep-open");const i=e.find('input[type="checkbox"]:not(".toggle-all")'),o=e.find('input[type="checkbox"].toggle-all');if(n<=t.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li, label").off("click").on("click",(t=>{t.stopImmediatePropagation()})),i.off("click").on("click",(({currentTarget:t})=>{const e=$(t);this._toggleColumn(e.val(),e.prop("checked"),!1),this.trigger("column-switch",e.data("field"),e.prop("checked")),o.prop("checked",i.filter(":checked").length===this.columns.filter((t=>!this.isSelectionColumn(t))).length)})),o.off("click").on("click",(({currentTarget:t})=>{this._toggleAllColumns($(t).prop("checked")),this.trigger("column-switch-all",$(t).prop("checked"))})),t.showColumnsSearch){const t=e.find('[name="columnsSearch"]'),o=e.find(".dropdown-item-marker");t.on("keyup paste change",(({currentTarget:t})=>{const e=$(t).val().toLowerCase();o.show(),i.each(((t,i)=>{const o=$(i).parents(".dropdown-item-marker");o.text().toLowerCase().includes(e)||o.hide()}))}))}}const r=e=>{const i=e.is("select")?"change":"keyup drop blur mouseup";e.off(i).on(i,(e=>{t.searchOnEnterKey&&13!==e.keyCode||[37,38,39,40].includes(e.keyCode)||(clearTimeout(s),s=setTimeout((()=>{this.onSearch({currentTarget:e.currentTarget})}),t.searchTimeOut))}))};if((t.search||this.showSearchClearButton)&&"string"!=typeof t.searchSelector){i=[];const e=o.sprintf(this.constants.html.searchButton,this.constants.buttonsClass,t.formatSearch(),t.showButtonIcons?o.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.search):"",t.showButtonText?t.formatSearch():""),n=o.sprintf(this.constants.html.searchClearButton,this.constants.buttonsClass,t.formatClearSearch(),t.showButtonIcons?o.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.clearSearch):"",t.showButtonText?t.formatClearSearch():""),a=`<input class="${this.constants.classes.input}\n        ${o.sprintf(" %s%s",this.constants.classes.inputPrefix,t.iconSize)}\n        search-input" type="search" aria-label="${t.formatSearch()}" placeholder="${t.formatSearch()}" autocomplete="off">`;let l=a;if(t.showSearchButton||t.showSearchClearButton){const i=(t.showSearchButton?e:"")+(t.showSearchClearButton?n:"");l=t.search?o.sprintf(this.constants.html.inputGroup,a,i):i}i.push(o.sprintf(`\n        <div class="${this.constants.classes.pull}-${t.searchAlign} search ${this.constants.classes.inputGroup}">\n          %s\n        </div>\n      `,l)),this.$toolbar.append(i.join(""));const c=o.getSearchInput(this);t.showSearchButton?(this.$toolbar.find(".search button[name=search]").off("click").on("click",(()=>{clearTimeout(s),s=setTimeout((()=>{this.onSearch({currentTarget:c})}),t.searchTimeOut)})),t.searchOnEnterKey&&r(c)):r(c),t.showSearchClearButton&&this.$toolbar.find(".search button[name=clearSearch]").click((()=>{this.resetSearch()}))}else if("string"==typeof t.searchSelector){r(o.getSearchInput(this))}}onSearch({currentTarget:t,firedByInitSearchText:e}={},i=!0){if(void 0!==t&&$(t).length&&i){const e=$(t).val().trim();if(this.options.trimOnSearch&&$(t).val()!==e&&$(t).val(e),this.searchText===e)return;const i=o.getSearchInput(this),s=t instanceof jQuery?t:$(t);(s.is(i)||s.hasClass("search-input"))&&(this.searchText=e,this.options.searchText=e)}e||(this.options.pageNumber=1),this.initSearch(),e?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",this.searchText)}initSearch(){if(this.filterOptions=this.filterOptions||this.options.filterOptions,"server"!==this.options.sidePagination){if(this.options.customSearch)return this.data=o.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText,this.filterColumns]),this.options.sortReset&&(this.unsortedData=[...this.data]),void this.initSort();const t=this.searchText&&(this.fromHtml?o.escapeHTML(this.searchText):this.searchText);let e=t?t.toLowerCase():"";const i=o.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.options.searchAccentNeutralise&&(e=o.normalizeAccent(e)),"function"==typeof this.filterOptions.filterAlgorithm?this.data=this.options.data.filter((t=>this.filterOptions.filterAlgorithm.apply(null,[t,i]))):"string"==typeof this.filterOptions.filterAlgorithm&&(this.data=i?this.options.data.filter((t=>{const e=this.filterOptions.filterAlgorithm;if("and"===e){for(const e in i)if(Array.isArray(i[e])&&!i[e].includes(t[e])||!Array.isArray(i[e])&&t[e]!==i[e])return!1}else if("or"===e){let e=!1;for(const o in i)(Array.isArray(i[o])&&i[o].includes(t[o])||!Array.isArray(i[o])&&t[o]===i[o])&&(e=!0);return e}return!0})):[...this.options.data]);const s=this.getVisibleFields();this.data=e?this.data.filter(((i,n)=>{for(let a=0;a<this.header.fields.length;a++){if(!this.header.searchables[a]||this.options.visibleSearch&&-1===s.indexOf(this.header.fields[a]))continue;const r=o.isNumeric(this.header.fields[a])?parseInt(this.header.fields[a],10):this.header.fields[a],l=this.columns[this.fieldsColumnsIndex[r]];let c;if("string"==typeof r){c=i;const t=r.split(".");for(let e=0;e<t.length;e++){if(null===c[t[e]]){c=null;break}c=c[t[e]]}}else c=i[r];if(this.options.searchAccentNeutralise&&(c=o.normalizeAccent(c)),l&&l.searchFormatter&&(c=o.calculateObjectValue(l,this.header.formatters[a],[c,i,n,l.field],c)),"string"==typeof c||"number"==typeof c){if(this.options.strictSearch&&`${c}`.toLowerCase()===e||this.options.regexSearch&&o.regexCompare(c,t))return!0;const i=/(?:(<=|=>|=<|>=|>|<)(?:\s+)?(-?\d+)?|(-?\d+)?(\s+)?(<=|=>|=<|>=|>|<))/gm.exec(this.searchText);let s=!1;if(i){const t=i[1]||`${i[5]}l`,e=i[2]||i[3],o=parseInt(c,10),n=parseInt(e,10);switch(t){case">":case"<l":s=o>n;break;case"<":case">l":s=o<n;break;case"<=":case"=<":case">=l":case"=>l":s=o<=n;break;case">=":case"=>":case"<=l":case"=<l":s=o>=n}}if(s||`${c}`.toLowerCase().includes(e))return!0}}return!1})):this.data,this.options.sortReset&&(this.unsortedData=[...this.data]),this.initSort()}}initPagination(){const t=this.options;if(!t.pagination)return void this.$pagination.hide();this.$pagination.show();const e=[];let i,s,n,a,r,l,c,h=!1;const d=this.getData({includeHiddenRows:!1});let p=t.pageList;if("string"==typeof p&&(p=p.replace(/\[|\]| /g,"").toLowerCase().split(",")),p=p.map((e=>"string"==typeof e?e.toLowerCase()===t.formatAllRows().toLowerCase()||["all","unlimited"].includes(e.toLowerCase())?t.formatAllRows():+e:e)),this.paginationParts=t.paginationParts,"string"==typeof this.paginationParts&&(this.paginationParts=this.paginationParts.replace(/\[|\]| |'/g,"").split(",")),"server"!==t.sidePagination&&(t.totalRows=d.length),this.totalPages=0,t.totalRows&&(t.pageSize===t.formatAllRows()&&(t.pageSize=t.totalRows,h=!0),this.totalPages=1+~~((t.totalRows-1)/t.pageSize),t.totalPages=this.totalPages),this.totalPages>0&&t.pageNumber>this.totalPages&&(t.pageNumber=this.totalPages),this.pageFrom=(t.pageNumber-1)*t.pageSize+1,this.pageTo=t.pageNumber*t.pageSize,this.pageTo>t.totalRows&&(this.pageTo=t.totalRows),this.options.pagination&&"server"!==this.options.sidePagination&&(this.options.totalNotFiltered=this.options.data.length),this.options.showExtendedPagination||(this.options.totalNotFiltered=void 0),(this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&e.push(`<div class="${this.constants.classes.pull}-${t.paginationDetailHAlign} pagination-detail">`),this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")){const i=this.paginationParts.includes("pageInfoShort")?t.formatDetailPagination(t.totalRows):t.formatShowingRows(this.pageFrom,this.pageTo,t.totalRows,t.totalNotFiltered);e.push(`<span class="pagination-info">\n      ${i}\n      </span>`)}if(this.paginationParts.includes("pageSize")){e.push('<div class="page-list">');const i=[`<div class="${this.constants.classes.paginationDropdown}">\n        <button class="${this.constants.buttonsClass} dropdown-toggle" type="button" ${this.constants.dataToggle}="dropdown">\n        <span class="page-size">\n        ${h?t.formatAllRows():t.pageSize}\n        </span>\n        ${this.constants.html.dropdownCaret}\n        </button>\n        ${this.constants.html.pageDropdown[0]}`];p.forEach(((e,s)=>{if(!t.smartDisplay||0===s||p[s-1]<t.totalRows||e===t.formatAllRows()){let s;s=h?e===t.formatAllRows()?this.constants.classes.dropdownActive:"":e===t.pageSize?this.constants.classes.dropdownActive:"",i.push(o.sprintf(this.constants.html.pageDropdownItem,s,e))}})),i.push(`${this.constants.html.pageDropdown[1]}</div>`),e.push(t.formatRecordsPerPage(i.join("")))}if((this.paginationParts.includes("pageInfo")||this.paginationParts.includes("pageInfoShort")||this.paginationParts.includes("pageSize"))&&e.push("</div></div>"),this.paginationParts.includes("pageList")){e.push(`<div class="${this.constants.classes.pull}-${t.paginationHAlign} pagination">`,o.sprintf(this.constants.html.pagination[0],o.sprintf(" pagination-%s",t.iconSize)),o.sprintf(this.constants.html.paginationItem," page-pre",t.formatSRPaginationPreText(),t.paginationPreText)),this.totalPages<t.paginationSuccessivelySize?(s=1,n=this.totalPages):(s=t.pageNumber-t.paginationPagesBySide,n=s+2*t.paginationPagesBySide),t.pageNumber<t.paginationSuccessivelySize-1&&(n=t.paginationSuccessivelySize),t.paginationSuccessivelySize>this.totalPages-s&&(s=s-(t.paginationSuccessivelySize-(this.totalPages-s))+1),s<1&&(s=1),n>this.totalPages&&(n=this.totalPages);const a=Math.round(t.paginationPagesBySide/2),r=(e,i="")=>o.sprintf(this.constants.html.paginationItem,i+(e===t.pageNumber?` ${this.constants.classes.paginationActive}`:""),t.formatSRPaginationPageText(e),e);if(s>1){let n=t.paginationPagesBySide;for(n>=s&&(n=s-1),i=1;i<=n;i++)e.push(r(i));s-1===n+1?(i=s-1,e.push(r(i))):s-1>n&&(s-2*t.paginationPagesBySide>t.paginationPagesBySide&&t.paginationUseIntermediate?(i=Math.round((s-a)/2+a),e.push(r(i," page-intermediate"))):e.push(o.sprintf(this.constants.html.paginationItem," page-first-separator disabled","","...")))}for(i=s;i<=n;i++)e.push(r(i));if(this.totalPages>n){let s=this.totalPages-(t.paginationPagesBySide-1);for(n>=s&&(s=n+1),n+1===s-1?(i=n+1,e.push(r(i))):s>n+1&&(this.totalPages-n>2*t.paginationPagesBySide&&t.paginationUseIntermediate?(i=Math.round((this.totalPages-a-n)/2+n),e.push(r(i," page-intermediate"))):e.push(o.sprintf(this.constants.html.paginationItem," page-last-separator disabled","","..."))),i=s;i<=this.totalPages;i++)e.push(r(i))}e.push(o.sprintf(this.constants.html.paginationItem," page-next",t.formatSRPaginationNextText(),t.paginationNextText)),e.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(e.join(""));const u=["bottom","both"].includes(t.paginationVAlign)?` ${this.constants.classes.dropup}`:"";this.$pagination.last().find(".page-list > div").addClass(u),t.onlyInfoPagination||(a=this.$pagination.find(".page-list a"),r=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-item").not(".page-next, .page-pre, .page-last-separator, .page-first-separator"),this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),t.smartDisplay&&(p.length<2||t.totalRows<=p[0])&&this.$pagination.find("div.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"](),t.paginationLoop||(1===t.pageNumber&&r.addClass("disabled"),t.pageNumber===this.totalPages&&l.addClass("disabled")),h&&(t.pageSize=t.formatAllRows()),a.off("click").on("click",(t=>this.onPageListChange(t))),r.off("click").on("click",(t=>this.onPagePre(t))),l.off("click").on("click",(t=>this.onPageNext(t))),c.off("click").on("click",(t=>this.onPageNumber(t))))}updatePagination(t){t&&$(t.currentTarget).hasClass("disabled")||(this.options.maintainMetaData||this.resetRows(),this.initPagination(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize),"server"===this.options.sidePagination?this.initServer():this.initBody())}onPageListChange(t){t.preventDefault();const e=$(t.currentTarget);return e.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive),this.options.pageSize=e.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+e.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1}onPagePre(t){if(!$(t.target).hasClass("disabled"))return t.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t),!1}onPageNext(t){if(!$(t.target).hasClass("disabled"))return t.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t),!1}onPageNumber(t){if(t.preventDefault(),this.options.pageNumber!==+$(t.currentTarget).text())return this.options.pageNumber=+$(t.currentTarget).text(),this.updatePagination(t),!1}initRow(t,e,i,s){const n=[];let a={};const r=[];let l="",c={};const h=[];if(o.findIndex(this.hiddenRows,t)>-1)return;if(a=o.calculateObjectValue(this.options,this.options.rowStyle,[t,e],a),a&&a.css)for(const[t,e]of Object.entries(a.css))r.push(`${t}: ${e}`);if(c=o.calculateObjectValue(this.options,this.options.rowAttributes,[t,e],c),c)for(const[t,e]of Object.entries(c))h.push(`${t}="${o.escapeHTML(e)}"`);if(t._data&&!o.isEmptyObject(t._data))for(const[e,i]of Object.entries(t._data)){if("index"===e)return;l+=` data-${e}='${"object"==typeof i?JSON.stringify(i):i}'`}n.push("<tr",o.sprintf(" %s",h.length?h.join(" "):void 0),o.sprintf(' id="%s"',Array.isArray(t)?void 0:t._id),o.sprintf(' class="%s"',a.classes||(Array.isArray(t)?void 0:t._class)),o.sprintf(' style="%s"',Array.isArray(t)?void 0:t._style),` data-index="${e}"`,o.sprintf(' data-uniqueid="%s"',o.getItemField(t,this.options.uniqueId,!1)),o.sprintf(' data-has-detail-view="%s"',this.options.detailView&&o.calculateObjectValue(null,this.options.detailFilter,[e,t])?"true":void 0),o.sprintf("%s",l),">"),this.options.cardView&&n.push(`<td colspan="${this.header.fields.length}"><div class="card-views">`);let d="";return o.hasDetailViewIcon(this.options)&&(d="<td>",o.calculateObjectValue(null,this.options.detailFilter,[e,t])&&(d+=`\n          <a class="detail-icon" href="#">\n          ${o.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)}\n          </a>\n        `),d+="</td>"),d&&"right"!==this.options.detailViewAlign&&n.push(d),this.header.fields.forEach(((i,s)=>{const a=this.columns[s];let l="";const c=o.getItemField(t,i,this.options.escape,a.escape);let h="",d="",p={},u="",f=this.header.classes[s],g="",b="",m="",y="",w="",v="";if((!this.fromHtml&&!this.autoMergeCells||void 0!==c||a.checkbox||a.radio)&&a.visible&&(!this.options.cardView||a.cardVisible)){if(r.concat([this.header.styles[s]]).length&&(b+=`${r.concat([this.header.styles[s]]).join("; ")}`),t[`_${i}_style`]&&(b+=`${t[`_${i}_style`]}`),b&&(g=` style="${b}"`),t[`_${i}_id`]&&(u=o.sprintf(' id="%s"',t[`_${i}_id`])),t[`_${i}_class`]&&(f=o.sprintf(' class="%s"',t[`_${i}_class`])),t[`_${i}_rowspan`]&&(y=o.sprintf(' rowspan="%s"',t[`_${i}_rowspan`])),t[`_${i}_colspan`]&&(w=o.sprintf(' colspan="%s"',t[`_${i}_colspan`])),t[`_${i}_title`]&&(v=o.sprintf(' title="%s"',t[`_${i}_title`])),p=o.calculateObjectValue(this.header,this.header.cellStyles[s],[c,t,e,i],p),p.classes&&(f=` class="${p.classes}"`),p.css){const t=[];for(const[e,i]of Object.entries(p.css))t.push(`${e}: ${i}`);g=` style="${t.concat(this.header.styles[s]).join("; ")}"`}if(h=o.calculateObjectValue(a,this.header.formatters[s],[c,t,e,i],c),a.checkbox||a.radio||(h=null==h?this.options.undefinedText:h),a.searchable&&this.searchText&&this.options.searchHighlight&&!a.checkbox&&!a.radio){let t="",e=this.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(this.options.searchAccentNeutralise){const t=new RegExp(`${o.normalizeAccent(e)}`,"gmi").exec(o.normalizeAccent(h));t&&(e=h.substring(t.index,t.index+e.length))}const i=new RegExp(`(${e})`,"gim"),s="<mark>$1</mark>";if(h&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(h)){let e=(new DOMParser).parseFromString(h.toString(),"text/html").documentElement.textContent;const o=e.replace(i,s);e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=h.replace(new RegExp(`(>\\s*)(${e})(\\s*)`,"gm"),`$1${o}$3`)}else t=h.toString().replace(i,s);h=o.calculateObjectValue(a,a.searchHighlightFormatter,[h,this.searchText],t)}if(t[`_${i}_data`]&&!o.isEmptyObject(t[`_${i}_data`]))for(const[e,o]of Object.entries(t[`_${i}_data`])){if("index"===e)return;m+=` data-${e}="${o}"`}if(a.checkbox||a.radio){d=a.checkbox?"checkbox":d,d=a.radio?"radio":d;const i=a.class||"",n=o.isObject(h)&&h.hasOwnProperty("checked")?h.checked:(!0===h||c)&&!1!==h,r=!a.checkboxEnabled||h&&h.disabled;l=[this.options.cardView?`<div class="card-view ${i}">`:`<td class="bs-checkbox ${i}"${f}${g}>`,`<label>\n            <input\n            data-index="${e}"\n            name="${this.options.selectItemName}"\n            type="${d}"\n            ${o.sprintf('value="%s"',t[this.options.idField])}\n            ${o.sprintf('checked="%s"',n?"checked":void 0)}\n            ${o.sprintf('disabled="%s"',r?"disabled":void 0)} />\n            <span></span>\n            </label>`,this.header.formatters[s]&&"string"==typeof h?h:"",this.options.cardView?"</div>":"</td>"].join(""),t[this.header.stateField]=!0===h||!!c||h&&h.checked}else if(this.options.cardView){l=`<div class="card-view">${this.options.showHeader?`<span class="card-view-title ${p.classes||""}"${g}>${o.getFieldTitle(this.columns,i)}</span>`:""}<span class="card-view-value ${p.classes||""}"${g}>${h}</span></div>`,this.options.smartDisplay&&""===h&&(l='<div class="card-view"></div>')}else l=`<td${u}${f}${g}${m}${y}${w}${v}>${h}</td>`;n.push(l)}})),d&&"right"===this.options.detailViewAlign&&n.push(d),this.options.cardView&&n.push("</div></td>"),n.push("</tr>"),n.join("")}initBody(t,e){const i=this.getData();this.trigger("pre-body",i),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=$("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=i.length);const s=[],n=$(document.createDocumentFragment());let a=!1;const r=[];this.autoMergeCells=o.checkAutoMergeCells(i.slice(this.pageFrom-1,this.pageTo));for(let t=this.pageFrom-1;t<this.pageTo;t++){const l=i[t];let c=this.initRow(l,t,i,n);if(a=a||!!c,c&&"string"==typeof c){const i=this.options.uniqueId;if(i&&l.hasOwnProperty(i)){const s=l[i],n=this.$body.find(o.sprintf('> tr[data-uniqueid="%s"][data-has-detail-view]',s)).next();n.is("tr.detail-view")&&(r.push(t),e&&s===e||(c+=n[0].outerHTML))}this.options.virtualScroll?s.push(c):n.append(c)}}a?this.options.virtualScroll?(this.virtualScroll&&this.virtualScroll.destroy(),this.virtualScroll=new h({rows:s,fixedScroll:t,scrollEl:this.$tableBody[0],contentEl:this.$body[0],itemHeight:this.options.virtualScrollItemHeight,callback:(t,e)=>{this.fitHeader(),this.initBodyEvent(),this.trigger("virtual-scroll",t,e)}})):this.$body.html(n):this.$body.html(`<tr class="no-records-found">${o.sprintf('<td colspan="%s">%s</td>',this.getVisibleFields().length+o.getDetailViewIndexOffset(this.options),this.options.formatNoMatches())}</tr>`),r.forEach((t=>{this.expandRow(t)})),t||this.scrollTo(0),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected(),"server"!==this.options.sidePagination&&(this.options.totalRows=i.length),this.trigger("post-body",i)}initBodyEvent(){this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",(t=>{const e=$(t.currentTarget);if(e.find(".detail-icon").length||e.index()-o.getDetailViewIndexOffset(this.options)<0)return;const i=e.parent(),s=$(t.target).parents(".card-views").children(),n=$(t.target).parents(".card-view"),a=i.data("index"),r=this.data[a],l=this.options.cardView?s.index(n):e[0].cellIndex,c=this.getVisibleFields()[l-o.getDetailViewIndexOffset(this.options)],h=this.columns[this.fieldsColumnsIndex[c]],d=o.getItemField(r,c,this.options.escape,h.escape);if(this.trigger("click"===t.type?"click-cell":"dbl-click-cell",c,d,r,e),this.trigger("click"===t.type?"click-row":"dbl-click-row",r,i,c),"click"===t.type&&this.options.clickToSelect&&h.clickToSelect&&!o.calculateObjectValue(this.options,this.options.ignoreClickToSelectOn,[t.target])){const t=i.find(o.sprintf('[name="%s"]',this.options.selectItemName));t.length&&t[0].click()}"click"===t.type&&this.options.detailViewByClick&&this.toggleDetailView(a,this.header.detailFormatters[this.fieldsColumnsIndex[c]])})).off("mousedown").on("mousedown",(t=>{this.multipleSelectRowCtrlKey=t.ctrlKey||t.metaKey,this.multipleSelectRowShiftKey=t.shiftKey})),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",(t=>(t.preventDefault(),this.toggleDetailView($(t.currentTarget).parent().parent().data("index")),!1))),this.$selectItem=this.$body.find(o.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",(t=>{t.stopImmediatePropagation();const e=$(t.currentTarget);this._toggleCheck(e.prop("checked"),e.data("index"))})),this.header.events.forEach(((t,e)=>{let i=t;if(!i)return;if("string"==typeof i&&(i=o.calculateObjectValue(null,i)),!i)throw new Error(`Unknown event in the scope: ${t}`);const s=this.header.fields[e];let n=this.getVisibleFields().indexOf(s);if(-1!==n){n+=o.getDetailViewIndexOffset(this.options);for(const t in i){if(!i.hasOwnProperty(t))continue;const e=i[t];this.$body.find(">tr:not(.no-records-found)").each(((i,o)=>{const a=$(o),r=a.find(this.options.cardView?".card-views>.card-view":">td").eq(n),l=t.indexOf(" "),c=t.substring(0,l),h=t.substring(l+1);r.find(h).off(c).on(c,(t=>{const i=a.data("index"),o=this.data[i],n=o[s];e.apply(this,[t,n,o,i])}))}))}}}))}initServer(t,e,i){let s={};const n=this.header.fields.indexOf(this.options.sortName);let a={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[n]&&(a.sortName=this.header.sortNames[n]),this.options.pagination&&"server"===this.options.sidePagination&&(a.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.pageNumber=this.options.pageNumber),!i&&!this.options.url&&!this.options.ajax)return;if("limit"===this.options.queryParamsType&&(a={search:a.searchText,sort:a.sortName,order:a.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),a.limit=this.options.pageSize,0!==a.limit&&this.options.pageSize!==this.options.formatAllRows()||delete a.limit)),this.options.search&&"server"===this.options.sidePagination&&this.options.searchable&&this.columns.filter((t=>t.searchable)).length){a.searchable=[];for(const t of this.columns)!t.checkbox&&t.searchable&&(this.options.visibleSearch&&t.visible||!this.options.visibleSearch)&&a.searchable.push(t.field)}if(o.isEmptyObject(this.filterColumnsPartial)||(a.filter=JSON.stringify(this.filterColumnsPartial,null)),o.extend(a,e||{}),s=o.calculateObjectValue(this.options,this.options.queryParams,[a],s),!1===s)return;t||this.showLoading();const r=o.extend({},o.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:i||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(s):s,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:(e,i,s)=>{const n=o.calculateObjectValue(this.options,this.options.responseHandler,[e,s],e);this.load(n),this.trigger("load-success",n,s&&s.status,s),t||this.hideLoading(),"server"===this.options.sidePagination&&this.options.pageNumber>1&&n[this.options.totalField]>0&&!n[this.options.dataField].length&&this.updatePagination()},error:e=>{if(e&&0===e.status&&this._xhrAbort)return void(this._xhrAbort=!1);let i=[];"server"===this.options.sidePagination&&(i={},i[this.options.totalField]=0,i[this.options.dataField]=[]),this.load(i),this.trigger("load-error",e&&e.status,e),t||this.hideLoading()}});return this.options.ajax?o.calculateObjectValue(this,this.options.ajax,[r],null):(this._xhr&&4!==this._xhr.readyState&&(this._xhrAbort=!0,this._xhr.abort()),this._xhr=$.ajax(r)),s}initSearchText(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){const t=o.getSearchInput(this);t.val(this.options.searchText),this.onSearch({currentTarget:t,firedByInitSearchText:!0})}}getCaret(){this.$header.find("th").each(((t,e)=>{$(e).find(".sortable").removeClass("desc asc").addClass($(e).data("field")===this.options.sortName?this.options.sortOrder:"both")}))}updateSelected(){const t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each(((t,e)=>{$(e).closest("tr")[$(e).prop("checked")?"addClass":"removeClass"]("selected")}))}updateRows(){this.$selectItem.each(((t,e)=>{this.data[$(e).data("index")][this.header.stateField]=$(e).prop("checked")}))}resetRows(){for(const t of this.data)this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(t[this.header.stateField]=!1);this.initHiddenRows()}trigger(t,...e){const i=`${t}.bs.table`;this.options[d.EVENTS[i]](...e,this),this.$el.trigger($.Event(i,{sender:this}),e),this.options.onAll(i,...e,this),this.$el.trigger($.Event("all.bs.table",{sender:this}),[i,e])}resetHeader(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout((()=>this.fitHeader()),this.$el.is(":hidden")?100:0)}fitHeader(){if(this.$el.is(":hidden"))return void(this.timeoutId_=setTimeout((()=>this.fitHeader()),100));const t=this.$tableBody.get(0),e=this.hasScrollBar&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?o.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());const i=this.$tableHeader.find(":focus");if(i.length>0){const t=i.parents("th");if(t.length>0){const e=t.attr("data-field");if(void 0!==e){const t=this.$header.find(`[data-field='${e}']`);t.length>0&&t.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",e).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),this.$tableLoading.css("width",this.$el.outerWidth());const s=$(".focus-temp:visible:eq(0)");s.length>0&&(s.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(((t,e)=>{this.$header_.find(o.sprintf('th[data-field="%s"]',$(e).data("field"))).data($(e).data())}));const n=this.getVisibleFields(),a=this.$header_.find("th");let r=this.$body.find(">tr:not(.no-records-found,.virtual-scroll-top)").eq(0);for(;r.length&&r.find('>td[colspan]:not([colspan="1"])').length;)r=r.next();const l=r.find("> *").length;r.find("> *").each(((t,e)=>{const i=$(e);if(o.hasDetailViewIcon(this.options)&&(0===t&&"right"!==this.options.detailViewAlign||t===l-1&&"right"===this.options.detailViewAlign)){const t=a.filter(".detail"),e=t.innerWidth()-t.find(".fht-cell").width();return void t.find(".fht-cell").width(i.innerWidth()-e)}const s=t-o.getDetailViewIndexOffset(this.options);let r=this.$header_.find(o.sprintf('th[data-field="%s"]',n[s]));r.length>1&&(r=$(a[i[0].cellIndex]));const c=r.innerWidth()-r.find(".fht-cell").width();r.find(".fht-cell").width(i.innerWidth()-c)})),this.horizontalScroll(),this.trigger("post-header")}initFooter(){if(!this.options.showFooter||this.options.cardView)return;const t=this.getData(),e=[];let i="";o.hasDetailViewIcon(this.options)&&(i='<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>'),i&&"right"!==this.options.detailViewAlign&&e.push(i);for(const i of this.columns){let s="",n="";const a=[];let r={},l=o.sprintf(' class="%s"',i.class);if(!i.visible||this.footerData&&this.footerData.length>0&&!(i.field in this.footerData[0]))continue;if(this.options.cardView&&!i.cardVisible)return;if(s=o.sprintf("text-align: %s; ",i.falign?i.falign:i.align),n=o.sprintf("vertical-align: %s; ",i.valign),r=o.calculateObjectValue(null,this.options.footerStyle,[i]),r&&r.css)for(const[t,e]of Object.entries(r.css))a.push(`${t}: ${e}`);r&&r.classes&&(l=o.sprintf(' class="%s"',i.class?[i.class,r.classes].join(" "):r.classes)),e.push("<th",l,o.sprintf(' style="%s"',s+n+a.concat().join("; ")));let c=0;this.footerData&&this.footerData.length>0&&(c=this.footerData[0][`_${i.field}_colspan`]||0),c&&e.push(` colspan="${c}" `),e.push(">"),e.push('<div class="th-inner">');let h="";this.footerData&&this.footerData.length>0&&(h=this.footerData[0][i.field]||""),e.push(o.calculateObjectValue(i,i.footerFormatter,[t,h],h)),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}i&&"right"===this.options.detailViewAlign&&e.push(i),this.options.height||this.$tableFooter.length||(this.$el.append("<tfoot><tr></tr></tfoot>"),this.$tableFooter=this.$el.find("tfoot")),this.$tableFooter.find("tr").length||this.$tableFooter.html("<table><thead><tr></tr></thead></table>"),this.$tableFooter.find("tr").html(e.join("")),this.trigger("post-footer",this.$tableFooter)}fitFooter(){if(this.$el.is(":hidden"))return void setTimeout((()=>this.fitFooter()),100);const t=this.$tableBody.get(0),e=this.hasScrollBar&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?o.getScrollBarWidth():0;this.$tableFooter.css("margin-right",e).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));const i=this.$tableFooter.find("th");let s=this.$body.find(">tr:first-child:not(.no-records-found)");for(i.find(".fht-cell").width("auto");s.length&&s.find('>td[colspan]:not([colspan="1"])').length;)s=s.next();const n=s.find("> *").length;s.find("> *").each(((t,e)=>{const s=$(e);if(o.hasDetailViewIcon(this.options)&&(0===t&&"left"===this.options.detailViewAlign||t===n-1&&"right"===this.options.detailViewAlign)){const t=i.filter(".detail"),e=t.innerWidth()-t.find(".fht-cell").width();return void t.find(".fht-cell").width(s.innerWidth()-e)}const a=i.eq(t),r=a.innerWidth()-a.find(".fht-cell").width();a.find(".fht-cell").width(s.innerWidth()-r)})),this.horizontalScroll()}horizontalScroll(){this.$tableBody.off("scroll").on("scroll",(()=>{const t=this.$tableBody.scrollLeft();this.options.showHeader&&this.options.height&&this.$tableHeader.scrollLeft(t),this.options.showFooter&&!this.options.cardView&&this.$tableFooter.scrollLeft(t),this.trigger("scroll-body",this.$tableBody)}))}getVisibleFields(){const t=[];for(const e of this.header.fields){const i=this.columns[this.fieldsColumnsIndex[e]];i&&i.visible&&(!this.options.cardView||i.cardVisible)&&t.push(e)}return t}initHiddenRows(){this.hiddenRows=[]}getOptions(){const t=o.extend({},this.options);return delete t.data,o.extend(!0,{},t)}refreshOptions(t){o.compareObjects(this.options,t,!0)||(this.options=o.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())}getData(t){let e=this.options.data;if(!(this.searchText||this.options.customSearch||void 0!==this.options.sortName||this.enableCustomSort)&&o.isEmptyObject(this.filterColumns)&&"function"!=typeof this.options.filterOptions.filterAlgorithm&&o.isEmptyObject(this.filterColumnsPartial)||t&&t.unfiltered||(e=this.data),t&&!t.includeHiddenRows){const t=this.getHiddenRows();e=e.filter((e=>-1===o.findIndex(t,e)))}return t&&t.useCurrentPage&&(e=e.slice(this.pageFrom-1,this.pageTo)),t&&t.formatted&&e.forEach((t=>{for(const[e,i]of Object.entries(t)){const s=this.columns[this.fieldsColumnsIndex[e]];if(!s)return;t[e]=o.calculateObjectValue(s,this.header.formatters[s.fieldIndex],[i,t,t.index,s.field],i)}})),e}getSelections(){return(this.options.maintainMetaData?this.options.data:this.data).filter((t=>!0===t[this.header.stateField]))}load(t){let e=!1,i=t;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=i[this.options.totalField],this.options.totalNotFiltered=i[this.options.totalNotFilteredField],this.footerData=i[this.options.footerField]?[i[this.options.footerField]]:void 0),e=i.fixedScroll,i=Array.isArray(i)?i:i[this.options.dataField],this.initData(i),this.initSearch(),this.initPagination(),this.initBody(e)}append(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}prepend(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}remove(t){let e=0;for(let i=this.options.data.length-1;i>=0;i--){const s=this.options.data[i],n=o.getItemField(s,t.field,this.options.escape,s.escape);void 0===n&&"$index"!==t.field||(!s.hasOwnProperty(t.field)&&"$index"===t.field&&t.values.includes(i)||t.values.includes(n))&&(e++,this.options.data.splice(i,1))}e&&("server"===this.options.sidePagination&&(this.options.totalRows-=e,this.data=[...this.options.data]),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}removeAll(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}insertRow(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.options.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}updateRow(t){const e=Array.isArray(t)?t:[t];for(const t of e)t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(t.hasOwnProperty("replace")&&t.replace?this.options.data[t.index]=t.row:o.extend(this.options.data[t.index],t.row));this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}getRowByUniqueId(t){const e=this.options.uniqueId;let i,s,n=t,a=null;for(i=this.options.data.length-1;i>=0;i--){s=this.options.data[i];const t=o.getItemField(s,e,this.options.escape,s.escape);if(void 0!==t&&("string"==typeof t?n=n.toString():"number"==typeof t&&(Number(t)===t&&t%1==0?n=parseInt(n,10):t===Number(t)&&0!==t&&(n=parseFloat(n))),t===n)){a=s;break}}return a}updateByUniqueId(t){const e=Array.isArray(t)?t:[t];let i=null;for(const t of e){if(!t.hasOwnProperty("id")||!t.hasOwnProperty("row"))continue;const e=this.options.data.indexOf(this.getRowByUniqueId(t.id));-1!==e&&(t.hasOwnProperty("replace")&&t.replace?this.options.data[e]=t.row:o.extend(this.options.data[e],t.row),i=t.id)}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0,i)}removeByUniqueId(t){const e=this.options.data.length,i=this.getRowByUniqueId(t);i&&this.options.data.splice(this.options.data.indexOf(i),1),e!==this.options.data.length&&("server"===this.options.sidePagination&&(this.options.totalRows-=1,this.data=[...this.options.data]),this.initSearch(),this.initPagination(),this.initBody(!0))}_updateCellOnly(t,e){const i=this.initRow(this.options.data[e],e);let s=this.getVisibleFields().indexOf(t);-1!==s&&(s+=o.getDetailViewIndexOffset(this.options),this.$body.find(`>tr[data-index=${e}]`).find(`>td:eq(${s})`).replaceWith($(i).find(`>td:eq(${s})`)),this.initBodyEvent(),this.initFooter(),this.resetView(),this.updateSelected())}updateCell(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.options.data[t.index][t.field]=t.value,!1!==t.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(t.field,t.index))}updateCellByUniqueId(t){(Array.isArray(t)?t:[t]).forEach((({id:t,field:e,value:i})=>{const o=this.options.data.indexOf(this.getRowByUniqueId(t));-1!==o&&(this.options.data[o][e]=i)})),!1!==t.reinit?(this.initSort(),this.initBody(!0)):this._updateCellOnly(t.field,this.options.data.indexOf(this.getRowByUniqueId(t.id)))}showRow(t){this._toggleRow(t,!0)}hideRow(t){this._toggleRow(t,!1)}_toggleRow(t,e){let i;if(t.hasOwnProperty("index")?i=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(i=this.getRowByUniqueId(t.uniqueId)),!i)return;const s=o.findIndex(this.hiddenRows,i);e||-1!==s?e&&s>-1&&this.hiddenRows.splice(s,1):this.hiddenRows.push(i),this.initBody(!0),this.initPagination()}getHiddenRows(t){if(t)return this.initHiddenRows(),this.initBody(!0),void this.initPagination();const e=this.getData(),i=[];for(const t of e)this.hiddenRows.includes(t)&&i.push(t);return this.hiddenRows=i,i}showColumn(t){(Array.isArray(t)?t:[t]).forEach((t=>{this._toggleColumn(this.fieldsColumnsIndex[t],!0,!0)}))}hideColumn(t){(Array.isArray(t)?t:[t]).forEach((t=>{this._toggleColumn(this.fieldsColumnsIndex[t],!1,!0)}))}_toggleColumn(t,e,i){if(-1!==t&&this.columns[t].visible!==e&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){const s=this.$toolbar.find('.keep-open input:not(".toggle-all")').prop("disabled",!1);i&&s.filter(o.sprintf('[value="%s"]',t)).prop("checked",e),s.filter(":checked").length<=this.options.minimumCountColumns&&s.filter(":checked").prop("disabled",!0)}}getVisibleColumns(){return this.columns.filter((t=>t.visible&&!this.isSelectionColumn(t)))}getHiddenColumns(){return this.columns.filter((({visible:t})=>!t))}isSelectionColumn(t){return t.radio||t.checkbox}showAllColumns(){this._toggleAllColumns(!0)}hideAllColumns(){this._toggleAllColumns(!1)}_toggleAllColumns(t){for(const e of this.columns.slice().reverse())if(e.switchable){if(!t&&this.options.showColumns&&this.getVisibleColumns().filter((t=>t.switchable)).length===this.options.minimumCountColumns)continue;e.visible=t}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){const e=this.$toolbar.find('.keep-open input[type="checkbox"]:not(".toggle-all")').prop("disabled",!1);t?e.prop("checked",t):e.get().reverse().forEach((i=>{e.filter(":checked").length>this.options.minimumCountColumns&&$(i).prop("checked",t)})),e.filter(":checked").length<=this.options.minimumCountColumns&&e.filter(":checked").prop("disabled",!0)}}mergeCells(t){const e=t.index;let i=this.getVisibleFields().indexOf(t.field);const s=t.rowspan||1,n=t.colspan||1;let a,r;const l=this.$body.find(">tr[data-index]");i+=o.getDetailViewIndexOffset(this.options);const c=l.eq(e).find(">td").eq(i);if(!(e<0||i<0||e>=this.data.length)){for(a=e;a<e+s;a++)for(r=i;r<i+n;r++)l.eq(a).find(">td").eq(r).hide();c.attr("rowspan",s).attr("colspan",n).show()}}checkAll(){this._toggleCheckAll(!0)}uncheckAll(){this._toggleCheckAll(!1)}_toggleCheckAll(t){const e=this.getSelections();this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),this.updateSelected();const i=this.getSelections();t?this.trigger("check-all",i,e):this.trigger("uncheck-all",i,e)}checkInvert(){const t=this.$selectItem.filter(":enabled");let e=t.filter(":checked");t.each(((t,e)=>{$(e).prop("checked",!$(e).prop("checked"))})),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",e),e=this.getSelections(),this.trigger("check-some",e)}check(t){this._toggleCheck(!0,t)}uncheck(t){this._toggleCheck(!1,t)}_toggleCheck(t,e){const i=this.$selectItem.filter(`[data-index="${e}"]`),o=this.data[e];if(i.is(":radio")||this.options.singleSelect||this.options.multipleSelectRow&&!this.multipleSelectRowCtrlKey&&!this.multipleSelectRowShiftKey){for(const t of this.options.data)t[this.header.stateField]=!1;this.$selectItem.filter(":checked").not(i).prop("checked",!1)}if(o[this.header.stateField]=t,this.options.multipleSelectRow){if(this.multipleSelectRowShiftKey&&this.multipleSelectRowLastSelectedIndex>=0){const[t,i]=this.multipleSelectRowLastSelectedIndex<e?[this.multipleSelectRowLastSelectedIndex,e]:[e,this.multipleSelectRowLastSelectedIndex];for(let e=t+1;e<i;e++)this.data[e][this.header.stateField]=!0,this.$selectItem.filter(`[data-index="${e}"]`).prop("checked",!0)}this.multipleSelectRowCtrlKey=!1,this.multipleSelectRowShiftKey=!1,this.multipleSelectRowLastSelectedIndex=t?e:-1}i.prop("checked",t),this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],i)}checkBy(t){this._toggleCheckBy(!0,t)}uncheckBy(t){this._toggleCheckBy(!1,t)}_toggleCheckBy(t,e){if(!e.hasOwnProperty("field")||!e.hasOwnProperty("values"))return;const i=[];this.data.forEach(((s,n)=>{if(!s.hasOwnProperty(e.field))return!1;if(e.values.includes(s[e.field])){let a=this.$selectItem.filter(":enabled").filter(o.sprintf('[data-index="%s"]',n));const r=!!e.hasOwnProperty("onlyCurrentPage")&&e.onlyCurrentPage;if(a=t?a.not(":checked"):a.filter(":checked"),!a.length&&r)return;a.prop("checked",t),s[this.header.stateField]=t,i.push(s),this.trigger(t?"check":"uncheck",s,a)}})),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",i)}refresh(t){t&&t.url&&(this.options.url=t.url),t&&t.pageNumber&&(this.options.pageNumber=t.pageNumber),t&&t.pageSize&&(this.options.pageSize=t.pageSize),this.trigger("refresh",this.initServer(t&&t.silent,t&&t.query,t&&t.url))}destroy(){this.$el.insertBefore(this.$container),$(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"");const t=o.getEventName("resize.bootstrap-table",this.$el.attr("id"));$(window).off(t)}resetView(t){let e=0;if(t&&t.height&&(this.options.height=t.height),this.$tableContainer.toggleClass("has-card-view",this.options.cardView),this.options.height){const t=this.$tableBody.get(0);this.hasScrollBar=t.scrollWidth>t.clientWidth}if(!this.options.cardView&&this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight(!0)+1):(this.$tableHeader.hide(),this.trigger("post-header")),!this.options.cardView&&this.options.showFooter&&(this.$tableFooter.show(),this.fitFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight(!0))),this.$container.hasClass("fullscreen"))this.$tableContainer.css("height",""),this.$tableContainer.css("width","");else if(this.options.height){this.$tableBorder&&(this.$tableBorder.css("width",""),this.$tableBorder.css("height",""));const t=this.$toolbar.outerHeight(!0),e=this.$pagination.outerHeight(!0),i=this.options.height-t-e,s=this.$tableBody.find(">table"),n=s.outerHeight();if(this.$tableContainer.css("height",`${i}px`),this.$tableBorder&&s.is(":visible")){let t=i-n-2;this.hasScrollBar&&(t-=o.getScrollBarWidth()),this.$tableBorder.css("width",`${s.outerWidth()}px`),this.$tableBorder.css("height",`${t}px`)}}this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),this.$tableFooter.hide()):(this.getCaret(),this.$tableContainer.css("padding-bottom",`${e}px`)),this.trigger("reset-view")}showLoading(){this.$tableLoading.toggleClass("open",!0);let t=this.options.loadingFontSize;"auto"===this.options.loadingFontSize&&(t=.04*this.$tableLoading.width(),t=Math.max(12,t),t=Math.min(32,t),t=`${t}px`),this.$tableLoading.find(".loading-text").css("font-size",t)}hideLoading(){this.$tableLoading.toggleClass("open",!1)}togglePagination(){this.options.pagination=!this.options.pagination;const t=this.options.showButtonIcons?this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp:"",e=this.options.showButtonText?this.options.pagination?this.options.formatPaginationSwitchUp():this.options.formatPaginationSwitchDown():"";this.$toolbar.find('button[name="paginationSwitch"]').html(`${o.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)} ${e}`),this.updatePagination(),this.trigger("toggle-pagination",this.options.pagination)}toggleFullscreen(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen"),this.resetView()}toggleView(){this.options.cardView=!this.options.cardView,this.initHeader();const t=this.options.showButtonIcons?this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff:"",e=this.options.showButtonText?this.options.cardView?this.options.formatToggleOff():this.options.formatToggleOn():"";this.$toolbar.find('button[name="toggle"]').html(`${o.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)} ${e}`).attr("aria-label",e).attr("title",e),this.initBody(),this.trigger("toggle",this.options.cardView)}resetSearch(t){const e=o.getSearchInput(this),i=t||"";e.val(i),this.searchText=i,this.onSearch({currentTarget:e},!1)}filterBy(t,e){this.filterOptions=o.isEmptyObject(e)?this.options.filterOptions:o.extend(this.options.filterOptions,e),this.filterColumns=o.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}scrollTo(t){let e={unit:"px",value:0};"object"==typeof t?e=Object.assign(e,t):"string"==typeof t&&"bottom"===t?e.value=this.$tableBody[0].scrollHeight:"string"!=typeof t&&"number"!=typeof t||(e.value=t);let i=e.value;"rows"===e.unit&&(i=0,this.$body.find(`> tr:lt(${e.value})`).each(((t,e)=>{i+=$(e).outerHeight(!0)}))),this.$tableBody.scrollTop(i)}getScrollPosition(){return this.$tableBody.scrollTop()}selectPage(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())}prevPage(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}nextPage(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}toggleDetailView(t,e){this.$body.find(o.sprintf('> tr[data-index="%s"]',t)).next().is("tr.detail-view")?this.collapseRow(t):this.expandRow(t,e),this.resetView()}expandRow(t,e){const i=this.data[t],s=this.$body.find(o.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));if(this.options.detailViewIcon&&s.find("a.detail-icon").html(o.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailClose)),s.next().is("tr.detail-view"))return;s.after(o.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',s.children("td").length));const n=s.next().find("td"),a=e||this.options.detailFormatter,r=o.calculateObjectValue(this.options,a,[t,i,n],"");1===n.length&&n.append(r),this.trigger("expand-row",t,i,n)}expandRowByUniqueId(t){const e=this.getRowByUniqueId(t);e&&this.expandRow(this.data.indexOf(e))}collapseRow(t){const e=this.data[t],i=this.$body.find(o.sprintf('> tr[data-index="%s"][data-has-detail-view]',t));i.next().is("tr.detail-view")&&(this.options.detailViewIcon&&i.find("a.detail-icon").html(o.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)),this.trigger("collapse-row",t,e,i.next()),i.next().remove())}collapseRowByUniqueId(t){const e=this.getRowByUniqueId(t);e&&this.collapseRow(this.data.indexOf(e))}expandAllRows(){const t=this.$body.find("> tr[data-index][data-has-detail-view]");for(let e=0;e<t.length;e++)this.expandRow($(t[e]).data("index"))}collapseAllRows(){const t=this.$body.find("> tr[data-index][data-has-detail-view]");for(let e=0;e<t.length;e++)this.collapseRow($(t[e]).data("index"))}updateColumnTitle(t){t.hasOwnProperty("field")&&t.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[t.field]].title=this.options.escape&&this.options.escapeTitle?o.escapeHTML(t.title):t.title,this.columns[this.fieldsColumnsIndex[t.field]].visible&&(this.$header.find("th[data-field]").each(((e,i)=>{if($(i).data("field")===t.field)return $($(i).find(".th-inner")[0]).text(t.title),!1})),this.resetView()))}updateFormatText(t,e){/^format/.test(t)&&this.options[t]&&("string"==typeof e?this.options[t]=()=>e:"function"==typeof e&&(this.options[t]=e),this.initToolbar(),this.initPagination(),this.initBody())}}d.VERSION=c.VERSION,d.DEFAULTS=c.DEFAULTS,d.LOCALES=c.LOCALES,d.COLUMN_DEFAULTS=c.COLUMN_DEFAULTS,d.METHODS=c.METHODS,d.EVENTS=c.EVENTS,$.BootstrapTable=d,$.fn.bootstrapTable=function(t,...e){let i;return this.each(((s,n)=>{let a=$(n).data("bootstrap.table");if("string"==typeof t){if(!c.METHODS.includes(t))throw new Error(`Unknown method: ${t}`);if(!a)return;return i=a[t](...e),void("destroy"===t&&$(n).removeData("bootstrap.table"))}if(a)return void console.warn("You cannot initialize the table more than once!");const r=o.extend(!0,{},d.DEFAULTS,$(n).data(),"object"==typeof t&&t);a=new $.BootstrapTable(n,r),$(n).data("bootstrap.table",a),a.init()})),void 0===i?this:i},$.fn.bootstrapTable.Constructor=d,$.fn.bootstrapTable.theme=c.THEME,$.fn.bootstrapTable.VERSION=c.VERSION,$.fn.bootstrapTable.defaults=d.DEFAULTS,$.fn.bootstrapTable.columnDefaults=d.COLUMN_DEFAULTS,$.fn.bootstrapTable.events=d.EVENTS,$.fn.bootstrapTable.locales=d.LOCALES,$.fn.bootstrapTable.methods=d.METHODS,$.fn.bootstrapTable.utils=o,$((()=>{$('[data-toggle="table"]').bootstrapTable()}));const p=(t,e)=>({id:`customId_${e}`});Object.assign($.fn.bootstrapTable.defaults,{reorderableRows:!1,onDragStyle:null,onDropStyle:null,onDragClass:"reorder-rows-on-drag-class",dragHandle:">tbody>tr>td:not(.bs-checkbox)",useRowAttrFunc:!1,onReorderRowsDrag:t=>!1,onReorderRowsDrop:t=>!1,onReorderRow:t=>!1,onDragStop(){},onAllowDrop:()=>!0}),Object.assign($.fn.bootstrapTable.events,{"reorder-row.bs.table":"onReorderRow"}),$.BootstrapTable=class extends $.BootstrapTable{init(...t){if(!this.options.reorderableRows)return void super.init(...t);this.options.useRowAttrFunc&&(this.options.rowAttributes=p);const e=this.options.onPostBody;this.options.onPostBody=()=>{setTimeout((()=>{this.makeRowsReorderable(),e.call(this.options,this.options.data)}),1)},super.init(...t)}makeRowsReorderable(){this.$el.tableDnD({onDragStyle:this.options.onDragStyle,onDropStyle:this.options.onDropStyle,onDragClass:this.options.onDragClass,onAllowDrop:(t,e)=>this.onAllowDrop(t,e),onDragStop:(t,e)=>this.onDragStop(t,e),onDragStart:(t,e)=>this.onDropStart(t,e),onDrop:(t,e)=>this.onDrop(t,e),dragHandle:this.options.dragHandle})}onDropStart(t,e){this.$draggingTd=$(e).css("cursor","move"),this.draggingIndex=$(this.$draggingTd.parent()).data("index"),this.options.onReorderRowsDrag(this.data[this.draggingIndex])}onDragStop(t,e){const i=$(e).data("index"),o=this.data[i];this.options.onDragStop(t,o,e)}onAllowDrop(t,e){const i=$(e).data("index"),o=$(t).data("index"),s=this.data[i],n=this.data[o];return this.options.onAllowDrop(n,s,t,e)}onDrop(t){this.$draggingTd.css("cursor","");const e=[];for(let i=0;i<t.tBodies[0].rows.length;i++){const o=$(t.tBodies[0].rows[i]);e.push(this.data[o.data("index")]),o.data("index",i)}const i=this.data[this.draggingIndex],o=e.indexOf(this.data[this.draggingIndex]),s=this.data[o],n=this.options.data.indexOf(this.data[o]);this.options.data.splice(this.options.data.indexOf(i),1),this.options.data.splice(n,0,i),this.initSearch(),"server"===this.options.sidePagination&&(this.data=[...this.options.data]),this.options.onReorderRowsDrop(s),this.trigger("reorder-row",e,i,s)}initSearch(){this.ignoreInitSort=!0,super.initSearch()}initSort(){this.ignoreInitSort?this.ignoreInitSort=!1:super.initSort()}},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).jQuery)}(void 0,(function(t){function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(s=o.key,n=void 0,"symbol"==typeof(n=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"))?n:String(n)),o)}var s,n}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=i(t);if(e){var a=i(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s(this,o)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}},a.apply(this,arguments)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function l(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,n=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw n}}}}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=function(t){return t&&t.Math==Math&&t},d=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof c&&c)||function(){return this}()||Function("return this")(),p={},u=function(t){try{return!!t()}catch(t){return!0}},f=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),g=!u((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),b=g,m=Function.prototype.call,y=b?m.bind(m):function(){return m.apply(m,arguments)},w={},v={}.propertyIsEnumerable,$=Object.getOwnPropertyDescriptor,S=$&&!v.call({1:2},1);w.f=S?function(t){var e=$(this,t);return!!e&&e.enumerable}:v;var C,k,x=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=g,T=Function.prototype,P=T.call,D=O&&T.bind.bind(P,P),I=O?D:function(t){return function(){return P.apply(t,arguments)}},A=I,E=A({}.toString),R=A("".slice),j=function(t){return R(E(t),8,-1)},V=u,N=j,_=Object,B=I("".split),z=V((function(){return!_("z").propertyIsEnumerable(0)}))?function(t){return"String"==N(t)?B(t,""):_(t)}:_,L=function(t){return null==t},F=L,H=TypeError,M=function(t){if(F(t))throw H("Can't call method on "+t);return t},U=z,q=M,W=function(t){return U(q(t))},G="object"==typeof document&&document.all,J={all:G,IS_HTMLDDA:void 0===G&&void 0!==G},K=J.all,Y=J.IS_HTMLDDA?function(t){return"function"==typeof t||t===K}:function(t){return"function"==typeof t},X=Y,Q=J.all,Z=J.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:X(t)||t===Q}:function(t){return"object"==typeof t?null!==t:X(t)},tt=d,et=Y,it=function(t,e){return arguments.length<2?(i=tt[t],et(i)?i:void 0):tt[t]&&tt[t][e];var i},ot=I({}.isPrototypeOf),st=d,nt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",at=st.process,rt=st.Deno,lt=at&&at.versions||rt&&rt.version,ct=lt&&lt.v8;ct&&(k=(C=ct.split("."))[0]>0&&C[0]<4?1:+(C[0]+C[1])),!k&&nt&&(!(C=nt.match(/Edge\/(\d+)/))||C[1]>=74)&&(C=nt.match(/Chrome\/(\d+)/))&&(k=+C[1]);var ht=k,dt=ht,pt=u,ut=!!Object.getOwnPropertySymbols&&!pt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&dt&&dt<41})),ft=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt=it,bt=Y,mt=ot,yt=Object,wt=ft?function(t){return"symbol"==typeof t}:function(t){var e=gt("Symbol");return bt(e)&&mt(e.prototype,yt(t))},vt=String,$t=Y,St=function(t){try{return vt(t)}catch(t){return"Object"}},Ct=TypeError,kt=function(t){if($t(t))return t;throw Ct(St(t)+" is not a function")},xt=kt,Ot=L,Tt=function(t,e){var i=t[e];return Ot(i)?void 0:xt(i)},Pt=y,Dt=Y,It=Z,At=TypeError,Et={},Rt={get exports(){return Et},set exports(t){Et=t}},jt=d,Vt=Object.defineProperty,Nt=function(t,e){try{Vt(jt,t,{value:e,configurable:!0,writable:!0})}catch(i){jt[t]=e}return e},_t=Nt,Bt="__core-js_shared__",zt=d[Bt]||_t(Bt,{}),Lt=zt;(Rt.exports=function(t,e){return Lt[t]||(Lt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ft=M,Ht=Object,Mt=function(t){return Ht(Ft(t))},Ut=Mt,qt=I({}.hasOwnProperty),Wt=Object.hasOwn||function(t,e){return qt(Ut(t),e)},Gt=I,Jt=0,Kt=Math.random(),Yt=Gt(1..toString),Xt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Yt(++Jt+Kt,36)},Qt=Et,Zt=Wt,te=Xt,ee=ut,ie=ft,oe=d.Symbol,se=Qt("wks"),ne=ie?oe.for||oe:oe&&oe.withoutSetter||te,ae=function(t){return Zt(se,t)||(se[t]=ee&&Zt(oe,t)?oe[t]:ne("Symbol."+t)),se[t]},re=y,le=Z,ce=wt,he=Tt,de=function(t,e){var i,o;if("string"===e&&Dt(i=t.toString)&&!It(o=Pt(i,t)))return o;if(Dt(i=t.valueOf)&&!It(o=Pt(i,t)))return o;if("string"!==e&&Dt(i=t.toString)&&!It(o=Pt(i,t)))return o;throw At("Can't convert object to primitive value")},pe=TypeError,ue=ae("toPrimitive"),fe=function(t,e){if(!le(t)||ce(t))return t;var i,o=he(t,ue);if(o){if(void 0===e&&(e="default"),i=re(o,t,e),!le(i)||ce(i))return i;throw pe("Can't convert object to primitive value")}return void 0===e&&(e="number"),de(t,e)},ge=wt,be=function(t){var e=fe(t,"string");return ge(e)?e:e+""},me=Z,ye=d.document,we=me(ye)&&me(ye.createElement),ve=function(t){return we?ye.createElement(t):{}},$e=ve,Se=!f&&!u((function(){return 7!=Object.defineProperty($e("div"),"a",{get:function(){return 7}}).a})),Ce=f,ke=y,xe=w,Oe=x,Te=W,Pe=be,De=Wt,Ie=Se,Ae=Object.getOwnPropertyDescriptor;p.f=Ce?Ae:function(t,e){if(t=Te(t),e=Pe(e),Ie)try{return Ae(t,e)}catch(t){}if(De(t,e))return Oe(!ke(xe.f,t,e),t[e])};var Ee={},Re=f&&u((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),je=Z,Ve=String,Ne=TypeError,_e=function(t){if(je(t))return t;throw Ne(Ve(t)+" is not an object")},Be=f,ze=Se,Le=Re,Fe=_e,He=be,Me=TypeError,Ue=Object.defineProperty,qe=Object.getOwnPropertyDescriptor,We="enumerable",Ge="configurable",Je="writable";Ee.f=Be?Le?function(t,e,i){if(Fe(t),e=He(e),Fe(i),"function"==typeof t&&"prototype"===e&&"value"in i&&Je in i&&!i[Je]){var o=qe(t,e);o&&o[Je]&&(t[e]=i.value,i={configurable:Ge in i?i[Ge]:o[Ge],enumerable:We in i?i[We]:o[We],writable:!1})}return Ue(t,e,i)}:Ue:function(t,e,i){if(Fe(t),e=He(e),Fe(i),ze)try{return Ue(t,e,i)}catch(t){}if("get"in i||"set"in i)throw Me("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var Ke=Ee,Ye=x,Xe=f?function(t,e,i){return Ke.f(t,e,Ye(1,i))}:function(t,e,i){return t[e]=i,t},Qe={},Ze={get exports(){return Qe},set exports(t){Qe=t}},ti=f,ei=Wt,ii=Function.prototype,oi=ti&&Object.getOwnPropertyDescriptor,si=ei(ii,"name"),ni={EXISTS:si,PROPER:si&&"something"===function(){}.name,CONFIGURABLE:si&&(!ti||ti&&oi(ii,"name").configurable)},ai=Y,ri=zt,li=I(Function.toString);ai(ri.inspectSource)||(ri.inspectSource=function(t){return li(t)});var ci,hi,di,pi=ri.inspectSource,ui=Y,fi=d.WeakMap,gi=ui(fi)&&/native code/.test(String(fi)),bi=Xt,mi=Et("keys"),yi=function(t){return mi[t]||(mi[t]=bi(t))},wi={},vi=gi,$i=d,Si=Z,Ci=Xe,ki=Wt,xi=zt,Oi=yi,Ti=wi,Pi="Object already initialized",Di=$i.TypeError,Ii=$i.WeakMap;if(vi||xi.state){var Ai=xi.state||(xi.state=new Ii);Ai.get=Ai.get,Ai.has=Ai.has,Ai.set=Ai.set,ci=function(t,e){if(Ai.has(t))throw Di(Pi);return e.facade=t,Ai.set(t,e),e},hi=function(t){return Ai.get(t)||{}},di=function(t){return Ai.has(t)}}else{var Ei=Oi("state");Ti[Ei]=!0,ci=function(t,e){if(ki(t,Ei))throw Di(Pi);return e.facade=t,Ci(t,Ei,e),e},hi=function(t){return ki(t,Ei)?t[Ei]:{}},di=function(t){return ki(t,Ei)}}var Ri={set:ci,get:hi,has:di,enforce:function(t){return di(t)?hi(t):ci(t,{})},getterFor:function(t){return function(e){var i;if(!Si(e)||(i=hi(e)).type!==t)throw Di("Incompatible receiver, "+t+" required");return i}}},ji=I,Vi=u,Ni=Y,_i=Wt,Bi=f,zi=ni.CONFIGURABLE,Li=pi,Fi=Ri.enforce,Hi=Ri.get,Mi=String,Ui=Object.defineProperty,qi=ji("".slice),Wi=ji("".replace),Gi=ji([].join),Ji=Bi&&!Vi((function(){return 8!==Ui((function(){}),"length",{value:8}).length})),Ki=String(String).split("String"),Yi=Ze.exports=function(t,e,i){"Symbol("===qi(Mi(e),0,7)&&(e="["+Wi(Mi(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!_i(t,"name")||zi&&t.name!==e)&&(Bi?Ui(t,"name",{value:e,configurable:!0}):t.name=e),Ji&&i&&_i(i,"arity")&&t.length!==i.arity&&Ui(t,"length",{value:i.arity});try{i&&_i(i,"constructor")&&i.constructor?Bi&&Ui(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=Fi(t);return _i(o,"source")||(o.source=Gi(Ki,"string"==typeof e?e:"")),t};Function.prototype.toString=Yi((function(){return Ni(this)&&Hi(this).source||Li(this)}),"toString");var Xi=Y,Qi=Ee,Zi=Qe,to=Nt,eo=function(t,e,i,o){o||(o={});var s=o.enumerable,n=void 0!==o.name?o.name:e;if(Xi(i)&&Zi(i,n,o),o.global)s?t[e]=i:to(e,i);else{try{o.unsafe?t[e]&&(s=!0):delete t[e]}catch(t){}s?t[e]=i:Qi.f(t,e,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t},io={},oo=Math.ceil,so=Math.floor,no=Math.trunc||function(t){var e=+t;return(e>0?so:oo)(e)},ao=function(t){var e=+t;return e!=e||0===e?0:no(e)},ro=ao,lo=Math.max,co=Math.min,ho=ao,po=Math.min,uo=function(t){return t>0?po(ho(t),9007199254740991):0},fo=uo,go=function(t){return fo(t.length)},bo=W,mo=function(t,e){var i=ro(t);return i<0?lo(i+e,0):co(i,e)},yo=go,wo=function(t){return function(e,i,o){var s,n=bo(e),a=yo(n),r=mo(o,a);if(t&&i!=i){for(;a>r;)if((s=n[r++])!=s)return!0}else for(;a>r;r++)if((t||r in n)&&n[r]===i)return t||r||0;return!t&&-1}},vo={includes:wo(!0),indexOf:wo(!1)},$o=Wt,So=W,Co=vo.indexOf,ko=wi,xo=I([].push),Oo=function(t,e){var i,o=So(t),s=0,n=[];for(i in o)!$o(ko,i)&&$o(o,i)&&xo(n,i);for(;e.length>s;)$o(o,i=e[s++])&&(~Co(n,i)||xo(n,i));return n},To=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Po=Oo,Do=To.concat("length","prototype");io.f=Object.getOwnPropertyNames||function(t){return Po(t,Do)};var Io={};Io.f=Object.getOwnPropertySymbols;var Ao=it,Eo=io,Ro=Io,jo=_e,Vo=I([].concat),No=Ao("Reflect","ownKeys")||function(t){var e=Eo.f(jo(t)),i=Ro.f;return i?Vo(e,i(t)):e},_o=Wt,Bo=No,zo=p,Lo=Ee,Fo=u,Ho=Y,Mo=/#|\.prototype\./,Uo=function(t,e){var i=Wo[qo(t)];return i==Jo||i!=Go&&(Ho(e)?Fo(e):!!e)},qo=Uo.normalize=function(t){return String(t).replace(Mo,".").toLowerCase()},Wo=Uo.data={},Go=Uo.NATIVE="N",Jo=Uo.POLYFILL="P",Ko=Uo,Yo=d,Xo=p.f,Qo=Xe,Zo=eo,ts=Nt,es=function(t,e,i){for(var o=Bo(e),s=Lo.f,n=zo.f,a=0;a<o.length;a++){var r=o[a];_o(t,r)||i&&_o(i,r)||s(t,r,n(e,r))}},is=Ko,os=function(t,e){var i,o,s,n,a,r=t.target,l=t.global,c=t.stat;if(i=l?Yo:c?Yo[r]||ts(r,{}):(Yo[r]||{}).prototype)for(o in e){if(n=e[o],s=t.dontCallGetSet?(a=Xo(i,o))&&a.value:i[o],!is(l?o:r+(c?".":"#")+o,t.forced)&&void 0!==s){if(typeof n==typeof s)continue;es(n,s)}(t.sham||s&&s.sham)&&Qo(n,"sham",!0),Zo(i,o,n,t)}},ss={},ns=Oo,as=To,rs=Object.keys||function(t){return ns(t,as)},ls=f,cs=Re,hs=Ee,ds=_e,ps=W,us=rs;ss.f=ls&&!cs?Object.defineProperties:function(t,e){ds(t);for(var i,o=ps(e),s=us(e),n=s.length,a=0;n>a;)hs.f(t,i=s[a++],o[i]);return t};var fs,gs=it("document","documentElement"),bs=_e,ms=ss,ys=To,ws=wi,vs=gs,$s=ve,Ss="prototype",Cs="script",ks=yi("IE_PROTO"),xs=function(){},Os=function(t){return"<"+Cs+">"+t+"</"+Cs+">"},Ts=function(t){t.write(Os("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ps=function(){try{fs=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;Ps="undefined"!=typeof document?document.domain&&fs?Ts(fs):(e=$s("iframe"),i="java"+Cs+":",e.style.display="none",vs.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(Os("document.F=Object")),t.close(),t.F):Ts(fs);for(var o=ys.length;o--;)delete Ps[Ss][ys[o]];return Ps()};ws[ks]=!0;var Ds=Object.create||function(t,e){var i;return null!==t?(xs[Ss]=bs(t),i=new xs,xs[Ss]=null,i[ks]=t):i=Ps(),void 0===e?i:ms.f(i,e)},Is=ae,As=Ds,Es=Ee.f,Rs=Is("unscopables"),js=Array.prototype;null==js[Rs]&&Es(js,Rs,{configurable:!0,value:As(null)});var Vs=function(t){js[Rs][t]=!0},Ns=vo.includes,_s=Vs;os({target:"Array",proto:!0,forced:u((function(){return!Array(1).includes()}))},{includes:function(t){return Ns(this,t,arguments.length>1?arguments[1]:void 0)}}),_s("includes");var Bs=Z,zs=j,Ls=ae("match"),Fs=function(t){var e;return Bs(t)&&(void 0!==(e=t[Ls])?!!e:"RegExp"==zs(t))},Hs=TypeError,Ms={};Ms[ae("toStringTag")]="z";var Us="[object z]"===String(Ms),qs=Us,Ws=Y,Gs=j,Js=ae("toStringTag"),Ks=Object,Ys="Arguments"==Gs(function(){return arguments}()),Xs=qs?Gs:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Ks(t),Js))?i:Ys?Gs(e):"Object"==(o=Gs(e))&&Ws(e.callee)?"Arguments":o},Qs=Xs,Zs=String,tn=function(t){if("Symbol"===Qs(t))throw TypeError("Cannot convert a Symbol value to a string");return Zs(t)},en=ae("match"),on=os,sn=function(t){if(Fs(t))throw Hs("The method doesn't accept regular expressions");return t},nn=M,an=tn,rn=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[en]=!1,"/./"[t](e)}catch(t){}}return!1},ln=I("".indexOf);on({target:"String",proto:!0,forced:!rn("includes")},{includes:function(t){return!!~ln(an(nn(this)),an(sn(t)),arguments.length>1?arguments[1]:void 0)}});var cn=j,hn=Array.isArray||function(t){return"Array"==cn(t)},dn=TypeError,pn=be,un=Ee,fn=x,gn=I,bn=u,mn=Y,yn=Xs,wn=pi,vn=function(){},$n=[],Sn=it("Reflect","construct"),Cn=/^\s*(?:class|function)\b/,kn=gn(Cn.exec),xn=!Cn.exec(vn),On=function(t){if(!mn(t))return!1;try{return Sn(vn,$n,t),!0}catch(t){return!1}},Tn=function(t){if(!mn(t))return!1;switch(yn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return xn||!!kn(Cn,wn(t))}catch(t){return!0}};Tn.sham=!0;var Pn=!Sn||bn((function(){var t;return On(On.call)||!On(Object)||!On((function(){t=!0}))||t}))?Tn:On,Dn=hn,In=Pn,An=Z,En=ae("species"),Rn=Array,jn=function(t){var e;return Dn(t)&&(e=t.constructor,(In(e)&&(e===Rn||Dn(e.prototype))||An(e)&&null===(e=e[En]))&&(e=void 0)),void 0===e?Rn:e},Vn=function(t,e){return new(jn(t))(0===e?0:e)},Nn=u,_n=ht,Bn=ae("species"),zn=function(t){return _n>=51||!Nn((function(){var e=[];return(e.constructor={})[Bn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ln=os,Fn=u,Hn=hn,Mn=Z,Un=Mt,qn=go,Wn=function(t){if(t>9007199254740991)throw dn("Maximum allowed index exceeded");return t},Gn=function(t,e,i){var o=pn(e);o in t?un.f(t,o,fn(0,i)):t[o]=i},Jn=Vn,Kn=zn,Yn=ht,Xn=ae("isConcatSpreadable"),Qn=Yn>=51||!Fn((function(){var t=[];return t[Xn]=!1,t.concat()[0]!==t})),Zn=function(t){if(!Mn(t))return!1;var e=t[Xn];return void 0!==e?!!e:Hn(t)};Ln({target:"Array",proto:!0,arity:1,forced:!Qn||!Kn("concat")},{concat:function(t){var e,i,o,s,n,a=Un(this),r=Jn(a,0),l=0;for(e=-1,o=arguments.length;e<o;e++)if(Zn(n=-1===e?a:arguments[e]))for(s=qn(n),Wn(l+s),i=0;i<s;i++,l++)i in n&&Gn(r,l,n[i]);else Wn(l+1),Gn(r,l++,n);return r.length=l,r}});var ta,ea,ia=_e,oa=function(){var t=ia(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},sa=u,na=d.RegExp,aa=sa((function(){var t=na("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),ra=aa||sa((function(){return!na("a","y").sticky})),la={BROKEN_CARET:aa||sa((function(){var t=na("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:ra,UNSUPPORTED_Y:aa},ca=u,ha=d.RegExp,da=ca((function(){var t=ha(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),pa=u,ua=d.RegExp,fa=pa((function(){var t=ua("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),ga=y,ba=I,ma=tn,ya=oa,wa=la,va=Ds,$a=Ri.get,Sa=da,Ca=fa,ka=Et("native-string-replace",String.prototype.replace),xa=RegExp.prototype.exec,Oa=xa,Ta=ba("".charAt),Pa=ba("".indexOf),Da=ba("".replace),Ia=ba("".slice),Aa=(ea=/b*/g,ga(xa,ta=/a/,"a"),ga(xa,ea,"a"),0!==ta.lastIndex||0!==ea.lastIndex),Ea=wa.BROKEN_CARET,Ra=void 0!==/()??/.exec("")[1];(Aa||Ra||Ea||Sa||Ca)&&(Oa=function(t){var e,i,o,s,n,a,r,l=this,c=$a(l),h=ma(t),d=c.raw;if(d)return d.lastIndex=l.lastIndex,e=ga(Oa,d,h),l.lastIndex=d.lastIndex,e;var p=c.groups,u=Ea&&l.sticky,f=ga(ya,l),g=l.source,b=0,m=h;if(u&&(f=Da(f,"y",""),-1===Pa(f,"g")&&(f+="g"),m=Ia(h,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==Ta(h,l.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,b++),i=new RegExp("^(?:"+g+")",f)),Ra&&(i=new RegExp("^"+g+"$(?!\\s)",f)),Aa&&(o=l.lastIndex),s=ga(xa,u?i:l,m),u?s?(s.input=Ia(s.input,b),s[0]=Ia(s[0],b),s.index=l.lastIndex,l.lastIndex+=s[0].length):l.lastIndex=0:Aa&&s&&(l.lastIndex=l.global?s.index+s[0].length:o),Ra&&s&&s.length>1&&ga(ka,s[0],i,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(s[n]=void 0)})),s&&p)for(s.groups=a=va(null),n=0;n<p.length;n++)a[(r=p[n])[0]]=s[r[1]];return s});var ja=Oa;os({target:"RegExp",proto:!0,forced:/./.exec!==ja},{exec:ja});var Va=g,Na=Function.prototype,_a=Na.apply,Ba=Na.call,za="object"==typeof Reflect&&Reflect.apply||(Va?Ba.bind(_a):function(){return Ba.apply(_a,arguments)}),La=j,Fa=I,Ha=function(t){if("Function"===La(t))return Fa(t)},Ma=Ha,Ua=eo,qa=ja,Wa=u,Ga=ae,Ja=Xe,Ka=Ga("species"),Ya=RegExp.prototype,Xa=function(t,e,i,o){var s=Ga(t),n=!Wa((function(){var e={};return e[s]=function(){return 7},7!=""[t](e)})),a=n&&!Wa((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[Ka]=function(){return i},i.flags="",i[s]=/./[s]),i.exec=function(){return e=!0,null},i[s](""),!e}));if(!n||!a||i){var r=Ma(/./[s]),l=e(s,""[t],(function(t,e,i,o,s){var a=Ma(t),l=e.exec;return l===qa||l===Ya.exec?n&&!s?{done:!0,value:r(e,i,o)}:{done:!0,value:a(i,e,o)}:{done:!1}}));Ua(String.prototype,t,l[0]),Ua(Ya,s,l[1])}o&&Ja(Ya[s],"sham",!0)},Qa=I,Za=ao,tr=tn,er=M,ir=Qa("".charAt),or=Qa("".charCodeAt),sr=Qa("".slice),nr=function(t){return function(e,i){var o,s,n=tr(er(e)),a=Za(i),r=n.length;return a<0||a>=r?t?"":void 0:(o=or(n,a))<55296||o>56319||a+1===r||(s=or(n,a+1))<56320||s>57343?t?ir(n,a):o:t?sr(n,a,a+2):s-56320+(o-55296<<10)+65536}},ar={codeAt:nr(!1),charAt:nr(!0)}.charAt,rr=I,lr=Mt,cr=Math.floor,hr=rr("".charAt),dr=rr("".replace),pr=rr("".slice),ur=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fr=/\$([$&'`]|\d{1,2})/g,gr=y,br=_e,mr=Y,yr=j,wr=ja,vr=TypeError,$r=function(t,e){var i=t.exec;if(mr(i)){var o=gr(i,t,e);return null!==o&&br(o),o}if("RegExp"===yr(t))return gr(wr,t,e);throw vr("RegExp#exec called on incompatible receiver")},Sr=za,Cr=y,kr=I,xr=Xa,Or=u,Tr=_e,Pr=Y,Dr=L,Ir=ao,Ar=uo,Er=tn,Rr=M,jr=function(t,e,i){return e+(i?ar(t,e).length:1)},Vr=Tt,Nr=function(t,e,i,o,s,n){var a=i+t.length,r=o.length,l=fr;return void 0!==s&&(s=lr(s),l=ur),dr(n,l,(function(n,l){var c;switch(hr(l,0)){case"$":return"$";case"&":return t;case"`":return pr(e,0,i);case"'":return pr(e,a);case"<":c=s[pr(l,1,-1)];break;default:var h=+l;if(0===h)return n;if(h>r){var d=cr(h/10);return 0===d?n:d<=r?void 0===o[d-1]?hr(l,1):o[d-1]+hr(l,1):n}c=o[h-1]}return void 0===c?"":c}))},_r=$r,Br=ae("replace"),zr=Math.max,Lr=Math.min,Fr=kr([].concat),Hr=kr([].push),Mr=kr("".indexOf),Ur=kr("".slice),qr="$0"==="a".replace(/./,"$0"),Wr=!!/./[Br]&&""===/./[Br]("a","$0");xr("replace",(function(t,e,i){var o=Wr?"$":"$0";return[function(t,i){var o=Rr(this),s=Dr(t)?void 0:Vr(t,Br);return s?Cr(s,t,o,i):Cr(e,Er(o),t,i)},function(t,s){var n=Tr(this),a=Er(t);if("string"==typeof s&&-1===Mr(s,o)&&-1===Mr(s,"$<")){var r=i(e,n,a,s);if(r.done)return r.value}var l=Pr(s);l||(s=Er(s));var c=n.global;if(c){var h=n.unicode;n.lastIndex=0}for(var d=[];;){var p=_r(n,a);if(null===p)break;if(Hr(d,p),!c)break;""===Er(p[0])&&(n.lastIndex=jr(a,Ar(n.lastIndex),h))}for(var u,f="",g=0,b=0;b<d.length;b++){for(var m=Er((p=d[b])[0]),y=zr(Lr(Ir(p.index),a.length),0),w=[],v=1;v<p.length;v++)Hr(w,void 0===(u=p[v])?u:String(u));var $=p.groups;if(l){var S=Fr([m],w,y,a);void 0!==$&&Hr(S,$);var C=Er(Sr(s,void 0,S))}else C=Nr(m,a,y,w,$,s);y>=g&&(f+=Ur(a,g,y)+C,g=y+m.length)}return f+Ur(a,g)}]}),!!Or((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!qr||Wr);var Gr=Xs,Jr=Us?{}.toString:function(){return"[object "+Gr(this)+"]"};Us||eo(Object.prototype,"toString",Jr,{unsafe:!0});var Kr=ve("span").classList,Yr=Kr&&Kr.constructor&&Kr.constructor.prototype,Xr=Yr===Object.prototype?void 0:Yr,Qr=kt,Zr=g,tl=Ha(Ha.bind),el=function(t,e){return Qr(t),void 0===e?t:Zr?tl(t,e):function(){return t.apply(e,arguments)}},il=z,ol=Mt,sl=go,nl=Vn,al=I([].push),rl=function(t){var e=1==t,i=2==t,o=3==t,s=4==t,n=6==t,a=7==t,r=5==t||n;return function(l,c,h,d){for(var p,u,f=ol(l),g=il(f),b=el(c,h),m=sl(g),y=0,w=d||nl,v=e?w(l,m):i||a?w(l,0):void 0;m>y;y++)if((r||y in g)&&(u=b(p=g[y],y,f),t))if(e)v[y]=u;else if(u)switch(t){case 3:return!0;case 5:return p;case 6:return y;case 2:al(v,p)}else switch(t){case 4:return!1;case 7:al(v,p)}return n?-1:o||s?s:v}},ll={forEach:rl(0),map:rl(1),filter:rl(2),some:rl(3),every:rl(4),find:rl(5),findIndex:rl(6),filterReject:rl(7)},cl=u,hl=function(t,e){var i=[][t];return!!i&&cl((function(){i.call(null,e||function(){return 1},1)}))},dl=ll.forEach,pl=hl("forEach")?[].forEach:function(t){return dl(this,t,arguments.length>1?arguments[1]:void 0)},ul=d,fl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gl=Xr,bl=pl,ml=Xe,yl=function(t){if(t&&t.forEach!==bl)try{ml(t,"forEach",bl)}catch(e){t.forEach=bl}};for(var wl in fl)fl[wl]&&yl(ul[wl]&&ul[wl].prototype);yl(gl);var vl=y,$l=Wt,Sl=ot,Cl=oa,kl=RegExp.prototype,xl=ni.PROPER,Ol=eo,Tl=_e,Pl=tn,Dl=u,Il=function(t){var e=t.flags;return void 0!==e||"flags"in kl||$l(t,"flags")||!Sl(kl,t)?e:vl(Cl,t)},Al="toString",El=RegExp.prototype[Al],Rl=Dl((function(){return"/a/b"!=El.call({source:"a",flags:"b"})})),jl=xl&&El.name!=Al;(Rl||jl)&&Ol(RegExp.prototype,Al,(function(){var t=Tl(this);return"/"+Pl(t.source)+"/"+Pl(Il(t))}),{unsafe:!0});var Vl=os,Nl=ll.find,_l=Vs,Bl="find",zl=!0;Bl in[]&&Array(1)[Bl]((function(){zl=!1})),Vl({target:"Array",proto:!0,forced:zl},{find:function(t){return Nl(this,t,arguments.length>1?arguments[1]:void 0)}}),_l(Bl);var Ll=ll.filter;os({target:"Array",proto:!0,forced:!zn("filter")},{filter:function(t){return Ll(this,t,arguments.length>1?arguments[1]:void 0)}});var Fl=f,Hl=I,Ml=y,Ul=u,ql=rs,Wl=Io,Gl=w,Jl=Mt,Kl=z,Yl=Object.assign,Xl=Object.defineProperty,Ql=Hl([].concat),Zl=!Yl||Ul((function(){if(Fl&&1!==Yl({b:1},Yl(Xl({},"a",{enumerable:!0,get:function(){Xl(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(t){e[t]=t})),7!=Yl({},t)[i]||ql(Yl({},e)).join("")!=o}))?function(t,e){for(var i=Jl(t),o=arguments.length,s=1,n=Wl.f,a=Gl.f;o>s;)for(var r,l=Kl(arguments[s++]),c=n?Ql(ql(l),n(l)):ql(l),h=c.length,d=0;h>d;)r=c[d++],Fl&&!Ml(a,l,r)||(i[r]=l[r]);return i}:Yl,tc=Zl;os({target:"Object",stat:!0,arity:2,forced:Object.assign!==tc},{assign:tc});var ec=ll.map;os({target:"Array",proto:!0,forced:!zn("map")},{map:function(t){return ec(this,t,arguments.length>1?arguments[1]:void 0)}});var ic=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},oc=y,sc=_e,nc=L,ac=M,rc=ic,lc=tn,cc=Tt,hc=$r;Xa("search",(function(t,e,i){return[function(e){var i=ac(this),o=nc(e)?void 0:cc(e,t);return o?oc(o,e,i):new RegExp(e)[t](lc(i))},function(t){var o=sc(this),s=lc(t),n=i(e,o,s);if(n.done)return n.value;var a=o.lastIndex;rc(a,0)||(o.lastIndex=0);var r=hc(o,s);return rc(o.lastIndex,a)||(o.lastIndex=a),null===r?-1:r.index}]}));var dc=os,pc=z,uc=W,fc=hl,gc=I([].join);dc({target:"Array",proto:!0,forced:pc!=Object||!fc("join",",")},{join:function(t){return gc(uc(this),void 0===t?",":t)}});var bc=t.fn.bootstrapTable.utils,mc={cookieIds:{sortOrder:"bs.table.sortOrder",sortName:"bs.table.sortName",sortPriority:"bs.table.sortPriority",pageNumber:"bs.table.pageNumber",pageList:"bs.table.pageList",columns:"bs.table.columns",hiddenColumns:"bs.table.hiddenColumns",cardView:"bs.table.cardView",searchText:"bs.table.searchText",reorderColumns:"bs.table.reorderColumns",filterControl:"bs.table.filterControl",filterBy:"bs.table.filterBy"},getCurrentHeader:function(t){return t.options.height?t.$tableHeader:t.$header},getCurrentSearchControls:function(t){return t.options.height?"table select, table input":"select, input"},isCookieSupportedByBrowser:function(){return navigator.cookieEnabled},isCookieEnabled:function(t,e){return t.options.cookiesEnabled.includes(e)},setCookie:function(t,e,i){if(t.options.cookie&&mc.isCookieEnabled(t,e))return t._storage.setItem("".concat(t.options.cookieIdTable,".").concat(e),i)},getCookie:function(t,e){return e&&mc.isCookieEnabled(t,e)?t._storage.getItem("".concat(t.options.cookieIdTable,".").concat(e)):null},deleteCookie:function(t,e){return t._storage.removeItem("".concat(t.options.cookieIdTable,".").concat(e))},calculateExpiration:function(t){var e=t.replace(/[0-9]*/,"");switch(t=t.replace(/[A-Za-z]{1,2}/,""),e.toLowerCase()){case"s":t=+t;break;case"mi":t*=60;break;case"h":t=60*t*60;break;case"d":t=24*t*60*60;break;case"m":t=30*t*24*60*60;break;case"y":t=365*t*24*60*60;break;default:t=void 0}if(!t)return"";var i=new Date;return i.setTime(i.getTime()+1e3*t),i.toGMTString()},initCookieFilters:function(e){setTimeout((function(){var i=JSON.parse(mc.getCookie(e,mc.cookieIds.filterControl));if(!e._filterControlValuesLoaded&&i){var o={},s=mc.getCurrentHeader(e),n=mc.getCurrentSearchControls(e),a=s;e.options.filterControlContainer&&(a=t("".concat(e.options.filterControlContainer))),a.find(n).each((function(){var s=t(this).closest("[data-field]").data("field");!function(t,i){i.forEach((function(i){var s=t.value.toString(),n=i.text;if(""!==n&&("radio"!==t.type||s===n))if("INPUT"===t.tagName&&"radio"===t.type&&s===n)t.checked=!0,o[i.field]=n;else if("INPUT"===t.tagName)t.value=n,o[i.field]=n;else if("SELECT"===t.tagName&&e.options.filterControlContainer)t.value=n,o[i.field]=n;else if(""!==n&&"SELECT"===t.tagName){o[i.field]=n;var a,r=l(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.value===n)return void(c.selected=!0)}}catch(t){r.e(t)}finally{r.f()}var h=document.createElement("option");h.value=n,h.text=n,t.add(h,t[1]),t.selectedIndex=1}}))}(this,i.filter((function(t){return t.field===s})))})),e.initColumnSearch(o),e._filterControlValuesLoaded=!0,e.initServer()}}),250)}};Object.assign(t.fn.bootstrapTable.defaults,{cookie:!1,cookieExpire:"2h",cookiePath:null,cookieDomain:null,cookieSecure:null,cookieSameSite:"Lax",cookieIdTable:"",cookiesEnabled:["bs.table.sortOrder","bs.table.sortName","bs.table.sortPriority","bs.table.pageNumber","bs.table.pageList","bs.table.hiddenColumns","bs.table.columns","bs.table.searchText","bs.table.filterControl","bs.table.filterBy","bs.table.reorderColumns","bs.table.cardView"],cookieStorage:"cookieStorage",cookieCustomStorageGet:null,cookieCustomStorageSet:null,cookieCustomStorageDelete:null,_filterControls:[],_filterControlValuesLoaded:!1,_storage:{setItem:void 0,getItem:void 0,removeItem:void 0}}),t.fn.bootstrapTable.methods.push("getCookies"),t.fn.bootstrapTable.methods.push("deleteCookie"),Object.assign(t.fn.bootstrapTable.utils,{setCookie:mc.setCookie,getCookie:mc.getCookie}),t.BootstrapTable=function(s){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(p,s);var r,c,h,d=n(p);function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return r=p,c=[{key:"init",value:function(){if(this.options.cookie){if("cookieStorage"===this.options.cookieStorage&&!mc.isCookieSupportedByBrowser())throw new Error("Cookies are not enabled in this browser.");this.configureStorage();var t=mc.getCookie(this,mc.cookieIds.filterBy);if("boolean"==typeof t&&!t)throw new Error("The cookie value of filterBy must be a json!");var e={};try{e=JSON.parse(t)}catch(t){throw new Error("Could not parse the json of the filterBy cookie!")}if(this.filterColumns=e||{},this._filterControls=[],this._filterControlValuesLoaded=!1,this.options.cookiesEnabled="string"==typeof this.options.cookiesEnabled?this.options.cookiesEnabled.replace("[","").replace("]","").replace(/'/g,"").replace(/ /g,"").split(","):this.options.cookiesEnabled,this.options.filterControl){var o=this;this.$el.on("column-search.bs.table",(function(t,e,i){for(var s=!0,n=0;n<o._filterControls.length;n++)if(o._filterControls[n].field===e){o._filterControls[n].text=i,s=!1;break}s&&o._filterControls.push({field:e,text:i}),mc.setCookie(o,mc.cookieIds.filterControl,JSON.stringify(o._filterControls))})).on("created-controls.bs.table",mc.initCookieFilters(o))}}a(i(p.prototype),"init",this).call(this)}},{key:"initServer",value:function(){var t;if(!this.options.cookie||!this.options.filterControl||this._filterControlValuesLoaded||!JSON.parse(mc.getCookie(this,mc.cookieIds.filterControl))){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"initServer",this)).call.apply(t,[this].concat(o))}}},{key:"initTable",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"initTable",this)).call.apply(t,[this].concat(o)),this.initCookie()}},{key:"onSort",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onSort",this)).call.apply(t,[this].concat(o)),this.options.cookie&&(void 0===this.options.sortName||void 0===this.options.sortOrder?(mc.deleteCookie(this,mc.cookieIds.sortName),mc.deleteCookie(this,mc.cookieIds.sortOrder)):(this.options.sortPriority=null,mc.deleteCookie(this,mc.cookieIds.sortPriority),mc.setCookie(this,mc.cookieIds.sortOrder,this.options.sortOrder),mc.setCookie(this,mc.cookieIds.sortName,this.options.sortName)))}},{key:"onMultipleSort",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onMultipleSort",this)).call.apply(t,[this].concat(o)),this.options.cookie&&(void 0===this.options.sortPriority?mc.deleteCookie(this,mc.cookieIds.sortPriority):(this.options.sortName=void 0,this.options.sortOrder=void 0,mc.deleteCookie(this,mc.cookieIds.sortName),mc.deleteCookie(this,mc.cookieIds.sortOrder),mc.setCookie(this,mc.cookieIds.sortPriority,JSON.stringify(this.options.sortPriority))))}},{key:"onPageNumber",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onPageNumber",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.pageNumber,this.options.pageNumber)}},{key:"onPageListChange",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onPageListChange",this)).call.apply(t,[this].concat(o)),this.options.cookie&&(mc.setCookie(this,mc.cookieIds.pageList,this.options.pageSize),mc.setCookie(this,mc.cookieIds.pageNumber,this.options.pageNumber))}},{key:"onPagePre",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onPagePre",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.pageNumber,this.options.pageNumber)}},{key:"onPageNext",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"onPageNext",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.pageNumber,this.options.pageNumber)}},{key:"_toggleColumn",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"_toggleColumn",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.hiddenColumns,JSON.stringify(this.getHiddenColumns().map((function(t){return t.field}))))}},{key:"_toggleAllColumns",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"_toggleAllColumns",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.hiddenColumns,JSON.stringify(this.getHiddenColumns().map((function(t){return t.field}))))}},{key:"toggleView",value:function(){a(i(p.prototype),"toggleView",this).call(this),mc.setCookie(this,mc.cookieIds.cardView,this.options.cardView)}},{key:"selectPage",value:function(t){a(i(p.prototype),"selectPage",this).call(this,t),this.options.cookie&&mc.setCookie(this,mc.cookieIds.pageNumber,t)}},{key:"onSearch",value:function(t){a(i(p.prototype),"onSearch",this).call(this,t,!(arguments.length>1)||arguments[1]),this.options.cookie&&(this.options.search&&mc.setCookie(this,mc.cookieIds.searchText,this.searchText),mc.setCookie(this,mc.cookieIds.pageNumber,this.options.pageNumber))}},{key:"initHeader",value:function(){var t;this.options.reorderableColumns&&this.options.cookie&&(this.columnsSortOrder=JSON.parse(mc.getCookie(this,mc.cookieIds.reorderColumns)));for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"initHeader",this)).call.apply(t,[this].concat(o))}},{key:"persistReorderColumnsState",value:function(t){mc.setCookie(t,mc.cookieIds.reorderColumns,JSON.stringify(t.columnsSortOrder))}},{key:"filterBy",value:function(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];(t=a(i(p.prototype),"filterBy",this)).call.apply(t,[this].concat(o)),this.options.cookie&&mc.setCookie(this,mc.cookieIds.filterBy,JSON.stringify(this.filterColumns))}},{key:"initCookie",value:function(){var t=this;if(this.options.cookie){if(""===this.options.cookieIdTable||""===this.options.cookieExpire)return console.error("Configuration error. Please review the cookieIdTable and the cookieExpire property. If the properties are correct, then this browser does not support cookies."),void(this.options.cookie=!1);var e=mc.getCookie(this,mc.cookieIds.sortOrder),i=mc.getCookie(this,mc.cookieIds.sortName),o=mc.getCookie(this,mc.cookieIds.sortPriority),s=mc.getCookie(this,mc.cookieIds.pageNumber),n=mc.getCookie(this,mc.cookieIds.pageList),a=mc.getCookie(this,mc.cookieIds.searchText),r=mc.getCookie(this,mc.cookieIds.cardView),c=mc.getCookie(this,mc.cookieIds.columns),h=mc.getCookie(this,mc.cookieIds.hiddenColumns);if("boolean"==typeof c&&!c)throw new Error("The cookie value of filterBy must be a json!");var d={};try{d=JSON.parse(c)}catch(t){throw new Error("Could not parse the json of the columns cookie!",c)}var p={};try{p=JSON.parse(h)}catch(t){throw new Error("Could not parse the json of the hidden columns cookie!",h)}try{o=JSON.parse(o)}catch(t){throw new Error("Could not parse the json of the sortPriority cookie!",o)}if(o?(this.options.sortOrder=void 0,this.options.sortName=void 0):(this.options.sortOrder=e||this.options.sortOrder,this.options.sortName=i||this.options.sortName),this.options.sortPriority=o||this.options.sortPriority,(this.options.sortOrder||this.options.sortName)&&(this.options.sortPriority=null),this.options.pageNumber=s?+s:this.options.pageNumber,this.options.pageSize=n?n===this.options.formatAllRows()?n:+n:this.options.pageSize,mc.isCookieEnabled(this,mc.cookieIds.searchText)&&""===this.options.searchText&&(this.options.searchText=a||""),this.options.cardView="true"===r&&r,p){var u,f=l(this.columns);try{var g=function(){var e=u.value;e.visible=!p.filter((function(i){return!t.isSelectionColumn(e)&&i===e.field})).length>0||!e.switchable};for(f.s();!(u=f.n()).done;)g()}catch(t){f.e(t)}finally{f.f()}}else if(d){var b,m=l(this.columns);try{var y=function(){var e=b.value;if(!e.switchable)return"continue";e.visible=d.filter((function(i){return!!t.isSelectionColumn(e)||(i instanceof Object?i.field===e.field:i===e.field)})).length>0};for(m.s();!(b=m.n()).done;)y()}catch(t){m.e(t)}finally{m.f()}}}}},{key:"getCookies",value:function(){var e=this,i={};return t.each(mc.cookieIds,(function(t,o){i[t]=mc.getCookie(e,o),"columns"!==t&&"hiddenColumns"!==t&&"sortPriority"!==t||(i[t]=JSON.parse(i[t]))})),i}},{key:"deleteCookie",value:function(t){t&&mc.deleteCookie(this,mc.cookieIds[t])}},{key:"configureStorage",value:function(){var t=this;switch(this._storage={},this.options.cookieStorage){case"cookieStorage":this._storage.setItem=function(e,i){document.cookie=[e,"=",encodeURIComponent(i),"; expires=".concat(mc.calculateExpiration(t.options.cookieExpire)),t.options.cookiePath?"; path=".concat(t.options.cookiePath):"",t.options.cookieDomain?"; domain=".concat(t.options.cookieDomain):"",t.options.cookieSecure?"; secure":"",";SameSite=".concat(t.options.cookieSameSite)].join("")},this._storage.getItem=function(t){var e="; ".concat(document.cookie).split("; ".concat(t,"="));return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):null},this._storage.removeItem=function(e){document.cookie=[encodeURIComponent(e),"=","; expires=Thu, 01 Jan 1970 00:00:00 GMT",t.options.cookiePath?"; path=".concat(t.options.cookiePath):"",t.options.cookieDomain?"; domain=".concat(t.options.cookieDomain):"",";SameSite=".concat(t.options.cookieSameSite)].join("")};break;case"localStorage":this._storage.setItem=function(t,e){localStorage.setItem(t,e)},this._storage.getItem=function(t){return localStorage.getItem(t)},this._storage.removeItem=function(t){localStorage.removeItem(t)};break;case"sessionStorage":this._storage.setItem=function(t,e){sessionStorage.setItem(t,e)},this._storage.getItem=function(t){return sessionStorage.getItem(t)},this._storage.removeItem=function(t){sessionStorage.removeItem(t)};break;case"customStorage":if(!this.options.cookieCustomStorageSet||!this.options.cookieCustomStorageGet||!this.options.cookieCustomStorageDelete)throw new Error("The following options must be set while using the customStorage: cookieCustomStorageSet, cookieCustomStorageGet and cookieCustomStorageDelete");this._storage.setItem=function(e,i){bc.calculateObjectValue(t.options,t.options.cookieCustomStorageSet,[e,i],"")},this._storage.getItem=function(e){return bc.calculateObjectValue(t.options,t.options.cookieCustomStorageGet,[e],"")},this._storage.removeItem=function(e){bc.calculateObjectValue(t.options,t.options.cookieCustomStorageDelete,[e],"")};break;default:throw new Error("Storage method not supported.")}}}],c&&e(r.prototype,c),h&&e(r,h),Object.defineProperty(r,"prototype",{writable:!1}),p}(t.BootstrapTable)})),$.fn.bootstrapTable.locales["pl-PL"]=$.fn.bootstrapTable.locales.pl={formatCopyRows:()=>"Kopiuj wiersze",formatPrint:()=>"Print",formatLoadingMessage:()=>"adowanie, prosz czeka",formatRecordsPerPage:t=>`${t} rekordw na stron`,formatShowingRows:(t,e,i,o)=>void 0!==o&&o>0&&o>i?`Wywietlanie rekordw od ${t} do ${e} z ${i} (filtered from ${o} total rows)`:`Wywietlanie rekordw od ${t} do ${e} z ${i}`,formatSRPaginationPreText:()=>"poprzednia strona",formatSRPaginationPageText:t=>`z ${t}`,formatSRPaginationNextText:()=>"nastpna strona",formatDetailPagination:t=>`Wywietla ${t} wierszy`,formatClearSearch:()=>"Wyczy wyszukiwanie",formatSearch:()=>"Szukaj",formatNoMatches:()=>"Niestety, nic nie znaleziono",formatPaginationSwitch:()=>"Poka/ukryj stronicowanie",formatPaginationSwitchDown:()=>"Poka stronicowanie",formatPaginationSwitchUp:()=>"Ukryj stronicowanie",formatRefresh:()=>"Odwie",formatToggleOn:()=>"Poka ukad karty",formatToggleOff:()=>"Ukryj ukad karty",formatColumns:()=>"Kolumny",formatColumnsToggleAll:()=>"Zaznacz wszystko",formatFullscreen:()=>"Fullscreen",formatAllRows:()=>"Wszystkie",formatAutoRefresh:()=>"Auto odwieanie",formatExport:()=>"Eksport danych",formatJumpTo:()=>"Przejd",formatAdvancedSearch:()=>"Wyszukiwanie zaawansowane",formatAdvancedCloseButton:()=>"Zamknij",formatFilterControlSwitch:()=>"Poka/Ukryj",formatFilterControlSwitchHide:()=>"Poka",formatFilterControlSwitchShow:()=>"Ukryj"},Object.assign($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales["pl-PL"]);Object.assign($.fn.bootstrapTable.defaults,{mobileResponsive:!1,minWidth:562,minHeight:void 0,heightThreshold:100,checkOnInit:!0,columnsHidden:[]}),$.BootstrapTable=class extends $.BootstrapTable{init(...t){if(super.init(...t),!this.options.mobileResponsive||!this.options.minWidth)return;this.options.minWidth<100&&this.options.resizable&&(console.warn("The minWidth when the resizable extension is active should be greater or equal than 100"),this.options.minWidth=100);let e={width:$(window).width(),height:$(window).height()};if($(window).on("resize orientationchange",((t,e)=>{let i=0;return(...o)=>{clearTimeout(i),i=setTimeout((()=>{i=0,t(...o)}),e)}})((()=>{const t=$(window).width(),i=$(window).height(),o=$(document.activeElement);o.length&&["INPUT","SELECT","TEXTAREA"].includes(o.prop("nodeName"))||(Math.abs(e.height-i)>this.options.heightThreshold||e.width!==t)&&(this.changeView(t,i),e={width:t,height:i})}),200)),this.options.checkOnInit){const t=$(window).width(),i=$(window).height();this.changeView(t,i),e={width:t,height:i}}}conditionCardView(){this.changeTableView(!1),this.showHideColumns(!1)}conditionFullView(){this.changeTableView(!0),this.showHideColumns(!0)}changeTableView(t){this.options.cardView=t,this.toggleView()}showHideColumns(t){this.options.columnsHidden.length>0&&this.columns.forEach((e=>{this.options.columnsHidden.includes(e.field)&&e.visible!==t&&this._toggleColumn(this.fieldsColumnsIndex[e.field],t,!0)}))}changeView(t,e){this.options.minHeight?t<=this.options.minWidth&&e<=this.options.minHeight?this.conditionCardView():t>this.options.minWidth&&e>this.options.minHeight&&this.conditionFullView():t<=this.options.minWidth?this.conditionCardView():t>this.options.minWidth&&this.conditionFullView(),this.resetView()}};const u=$.fn.bootstrapTable.utils;Object.assign($.fn.bootstrapTable.defaults,{customView:!1,showCustomView:!1,customViewDefaultView:!1}),Object.assign($.fn.bootstrapTable.defaults.icons,{customViewOn:{bootstrap3:"glyphicon glyphicon-list",bootstrap5:"bi-list",bootstrap4:"fa fa-list",semantic:"fa fa-list",foundation:"fa fa-list",bulma:"fa fa-list",materialize:"list"}[$.fn.bootstrapTable.theme]||"fa-list",customViewOff:{bootstrap3:"glyphicon glyphicon-thumbnails",bootstrap5:"bi-grid",bootstrap4:"fa fa-th",semantic:"fa fa-th",foundation:"fa fa-th",bulma:"fa fa-th",materialize:"grid_on"}[$.fn.bootstrapTable.theme]||"fa-th"}),Object.assign($.fn.bootstrapTable.defaults,{onCustomViewPostBody:()=>!1,onCustomViewPreBody:()=>!1,onToggleCustomView:()=>!1}),Object.assign($.fn.bootstrapTable.locales,{formatToggleCustomViewOn:()=>"Show custom view",formatToggleCustomViewOff:()=>"Hide custom view"}),Object.assign($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales),$.fn.bootstrapTable.methods.push("toggleCustomView"),Object.assign($.fn.bootstrapTable.events,{"custom-view-post-body.bs.table":"onCustomViewPostBody","custom-view-pre-body.bs.table":"onCustomViewPreBody","toggle-custom-view.bs.table":"onToggleCustomView"}),$.BootstrapTable=class extends $.BootstrapTable{init(){this.customViewDefaultView=this.options.customViewDefaultView,super.init()}initToolbar(...t){this.options.customView&&this.options.showCustomView&&(this.buttons=Object.assign(this.buttons,{customView:{text:this.options.customViewDefaultView?this.options.formatToggleCustomViewOff():this.options.formatToggleCustomViewOn(),icon:this.options.customViewDefaultView?this.options.icons.customViewOn:this.options.icons.customViewOff,event:this.toggleCustomView,attributes:{"aria-label":this.options.customViewDefaultView?this.options.formatToggleCustomViewOff():this.options.formatToggleCustomViewOn(),title:this.options.customViewDefaultView?this.options.formatToggleCustomViewOff():this.options.formatToggleCustomViewOn()}}})),super.initToolbar(...t)}initBody(){if(super.initBody(),!this.options.customView)return;const t=this.$el,e=this.$container.find(".fixed-table-custom-view");if(t.hide(),e.hide(),!this.options.customView||!this.customViewDefaultView)return void t.show();const i=this.getData().slice(this.pageFrom-1,this.pageTo),o=u.calculateObjectValue(this,this.options.customView,[i],"");this.trigger("custom-view-pre-body",i,o),1===e.length?e.show().html(o):this.$tableBody.after(`<div class="fixed-table-custom-view">${o}</div>`),this.trigger("custom-view-post-body",i,o)}toggleCustomView(){this.customViewDefaultView=!this.customViewDefaultView;const t=this.options.showButtonIcons?this.customViewDefaultView?this.options.icons.customViewOn:this.options.icons.customViewOff:"",e=this.options.showButtonText?this.customViewDefaultView?this.options.formatToggleCustomViewOff():this.options.formatToggleCustomViewOn():"";this.$toolbar.find('button[name="customView"]').html(`${u.sprintf(this.constants.html.icon,this.options.iconsPrefix,t)} ${e}`).attr("aria-label",e).attr("title",e),this.initBody(),this.trigger("toggle-custom-view",this.customViewDefaultView)}};const f=$.fn.bootstrapTable.utils;Object.assign($.fn.bootstrapTable.defaults,{stickyHeader:!1,stickyHeaderOffsetY:0,stickyHeaderOffsetLeft:0,stickyHeaderOffsetRight:0}),$.BootstrapTable=class extends $.BootstrapTable{initHeader(...t){if(super.initHeader(...t),!this.options.stickyHeader)return;this.$tableBody.find(".sticky-header-container,.sticky_anchor_begin,.sticky_anchor_end").remove(),this.$el.before('<div class="sticky-header-container"></div>'),this.$el.before('<div class="sticky_anchor_begin"></div>'),this.$el.after('<div class="sticky_anchor_end"></div>'),this.$header.addClass("sticky-header"),this.$stickyContainer=this.$tableBody.find(".sticky-header-container"),this.$stickyBegin=this.$tableBody.find(".sticky_anchor_begin"),this.$stickyEnd=this.$tableBody.find(".sticky_anchor_end"),this.$stickyHeader=this.$header.clone(!0,!0);const e=f.getEventName("resize.sticky-header-table",this.$el.attr("id")),i=f.getEventName("scroll.sticky-header-table",this.$el.attr("id"));$(window).off(e).on(e,(()=>this.renderStickyHeader())),$(window).off(i).on(i,(()=>this.renderStickyHeader())),this.$tableBody.off("scroll").on("scroll",(()=>this.matchPositionX()))}onColumnSearch({currentTarget:t,keyCode:e}){super.onColumnSearch({currentTarget:t,keyCode:e}),this.renderStickyHeader()}resetView(...t){super.resetView(...t),$(".bootstrap-table.fullscreen").off("scroll").on("scroll",(()=>this.renderStickyHeader()))}getCaret(...t){if(super.getCaret(...t),this.$stickyHeader){const t=this.$stickyHeader.find("th");this.$header.find("th").each(((e,i)=>{t.eq(e).find(".sortable").attr("class",$(i).find(".sortable").attr("class"))}))}}horizontalScroll(){super.horizontalScroll(),this.$tableBody.on("scroll",(()=>this.matchPositionX()))}renderStickyHeader(){const t=this;this.$stickyHeader=this.$header.clone(!0,!0),this.options.filterControl&&$(this.$stickyHeader).off("keyup change mouseup").on("keyup change mouse",(function(e){const i=$(e.target),o=i.val(),s=i.parents("th").data("field"),n=t.$header.find(`th[data-field="${s}"]`);if(i.is("input"))n.find("input").val(o);else if(i.is("select")){const t=n.find("select");t.find("option[selected]").removeAttr("selected"),t.find(`option[value="${o}"]`).attr("selected",!0)}t.triggerSearch()}));const e=$(window).scrollTop(),i=this.$stickyBegin.offset().top-this.options.stickyHeaderOffsetY,o=this.$stickyEnd.offset().top-this.options.stickyHeaderOffsetY-this.$header.height();if(e>i&&e<=o){this.$stickyHeader.find("tr").each(((t,e)=>{$(e).find("th").each(((e,i)=>{$(i).css("min-width",this.$header.find(`tr:eq(${t})`).find(`th:eq(${e})`).css("width"))}))})),this.$stickyContainer.show().addClass("fix-sticky fixed-table-container");const t=this.$tableBody[0].getBoundingClientRect();let e="100%",i=this.options.stickyHeaderOffsetLeft,o=this.options.stickyHeaderOffsetRight;i||(i=t.left),o||(e=`${t.width}px`),this.$el.closest(".bootstrap-table").hasClass("fullscreen")&&(i=0,o=0,e="100%"),this.$stickyContainer.css("top",`${this.options.stickyHeaderOffsetY}px`),this.$stickyContainer.css("left",`${i}px`),this.$stickyContainer.css("right",`${o}px`),this.$stickyContainer.css("width",`${e}`),this.$stickyTable=$("<table/>"),this.$stickyTable.addClass(this.options.classes),this.$stickyContainer.html(this.$stickyTable.append(this.$stickyHeader)),this.matchPositionX()}else this.$stickyContainer.removeClass("fix-sticky").hide()}matchPositionX(){this.$stickyContainer.scrollLeft(this.$tableBody.scrollLeft())}};i(6879),i(2552),i(5633);document.querySelectorAll(".modal").length>0&&$(".modal").insertAfter($("body"))},5156:()=>{$(".accordion").on("shown.bs.collapse",(function(t){var e=$(this).find(".collapse.show").prev(".accordion-header");e&&$("html,body").animate({scrollTop:$(e).offset().top-1},1)}))},124:()=>{var t=document.querySelectorAll("article .read-also");for(i=0;i<t.length;i++){var e=document.createElement("span");t[i].prepend(e),e.append("Czytaj take: ")}},7280:()=>{document.addEventListener("DOMContentLoaded",(()=>{$("footer").append('\n          <div id="back-to-top" class="position-fixed">\n              <button class="btn btn-primary btn-lg" aria-label="Przewi do gry">\n                  <i class="fas fa-caret-up"></i>\n              </button>\n          </div>\n          ').ready((function(){var t=$("#back-to-top");$(window).on("scroll",(function(){$(window).scrollTop()>50?t.fadeIn():t.fadeOut()})),t.click((function(){return $("body,html").animate({scrollTop:0},400),!1}))}))}))},5562:t=>{var e={setCookie:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3);var s="expires="+o.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"},getCookie:t=>{for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),o=0;o<i.length;o++){for(var s=i[o];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}}};t.exports=e},7700:()=>{[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(t){return new bootstrap.Popover(t)}))},4252:(t,e,i)=>{function o(t,e,i,o,s,n,a){try{var r=t[n](a),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(o,s)}var s=i(5562);document.addEventListener("DOMContentLoaded",(()=>{var t,e,i,n;(t=document.querySelectorAll('[data-click="sideBar.toggleNav"]'))&&t.forEach((t=>{t.addEventListener("click",(()=>{var t=document.getElementById("mySidenav"),e=document.getElementById("main");t.style.visibility="visible"==t.style.visibility?"hidden":"visible",t.style.width="150px"==t.style.width?"0":"150px",e.style.marginRight="150px"===e.style.marginRight?"0":"150px",($e2=document.querySelector('[data-ico="sideBar.changeIco"]'))&&$e2.classList[$e2.classList.contains("change")?"remove":"toggle"]("change")}))})),(e=document.querySelector('[data-click="sideBar.decreaseText"]'))&&e.addEventListener("click",(()=>{var t=parseInt($("html").css("font-size"))-2;t>=12&&($("html").css("font-size",t),$("#mySidenav").css("font-size",48),$(".openbtn").css("font-size",32))})),(i=document.querySelector('[data-click="sideBar.resetText"]'))&&i.addEventListener("click",(()=>{16!=parseInt($("html").css("font-size"))&&$("html").css("font-size",16)})),(n=document.querySelector('[data-click="sideBar.increaseText"]'))&&n.addEventListener("click",(()=>{var t=parseInt($("html").css("font-size"))+2;t<=28&&($("html").css("font-size",t),$("#mySidenav").css("font-size",48),$(".openbtn").css("font-size",32))})),document.querySelector('[data-click="sideBar.switchTheme"]').addEventListener("click",function(){var t,e=(t=function*(t){var e=t.currentTarget.classList,i=document.querySelector("[data-switch-theme]"),o=i.dataset.switchTheme,n=i.dataset.availableTheme.split(","),a=o===n[0]?n[1]:n[0],r=(yield fetch("/dist/manifest.json").then((t=>t.json())))["dist/css/main/".concat(a,".css")];i.setAttribute("href",r),i.setAttribute("data-switch-theme",a),e.toggle("btn-theme-light",a===n[0]),s.setCookie("switch-theme",a)},function(){var e=this,i=arguments;return new Promise((function(s,n){var a=t.apply(e,i);function r(t){o(a,s,n,r,l,"next",t)}function l(t){o(a,s,n,r,l,"throw",t)}r(void 0)}))});return function(t){return e.apply(this,arguments)}}())}))},6732:()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{if(window.location.href.includes("gdansk.pl")){var t=document.querySelector("iframe");t&&t.src.includes("gdansk.pl/tv/embed-player")&&(t.src+="?gdanskpl")}}))},6879:t=>{!function(e){var i=function(t,e,i){"use strict";var o,s;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in s=t.lazySizesConfig||t.lazysizesConfig||{},i)e in s||(s[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:s,noSupport:!0};var n=e.documentElement,a=t.HTMLPictureElement,r="addEventListener",l="getAttribute",c=t[r].bind(t),h=t.setTimeout,d=t.requestAnimationFrame||h,p=t.requestIdleCallback,u=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g={},b=Array.prototype.forEach,m=function(t,e){return g[e]||(g[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),g[e].test(t[l]("class")||"")&&g[e]},y=function(t,e){m(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},w=function(t,e){var i;(i=m(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(i," "))},v=function(t,e,i){var o=i?r:"removeEventListener";i&&v(t,e),f.forEach((function(i){t[o](i,e)}))},$=function(t,i,s,n,a){var r=e.createEvent("Event");return s||(s={}),s.instance=o,r.initEvent(i,!n,!a),r.detail=s,t.dispatchEvent(r),r},S=function(e,i){var o;!a&&(o=t.picturefill||s.pf)?(i&&i.src&&!e[l]("srcset")&&e.setAttribute("srcset",i.src),o({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},C=function(t,e){return(getComputedStyle(t,null)||{})[e]},k=function(t,e,i){for(i=i||t.offsetWidth;i<s.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},x=(yt=[],wt=[],vt=yt,$t=function(){var t=vt;for(vt=yt.length?wt:yt,bt=!0,mt=!1;t.length;)t.shift()();bt=!1},St=function(t,i){bt&&!i?t.apply(this,arguments):(vt.push(t),mt||(mt=!0,(e.hidden?h:d)($t)))},St._lsFlush=$t,St),O=function(t,e){return e?function(){x(t)}:function(){var e=this,i=arguments;x((function(){t.apply(e,i)}))}},T=function(t){var e,o=0,n=s.throttleDelay,a=s.ricTimeout,r=function(){e=!1,o=i.now(),t()},l=p&&a>49?function(){p(r,{timeout:a}),a!==s.ricTimeout&&(a=s.ricTimeout)}:O((function(){h(r)}),!0);return function(t){var s;(t=!0===t)&&(a=33),e||(e=!0,(s=n-(i.now()-o))<0&&(s=0),t||s<9?l():h(l,s))}},P=function(t){var e,o,s=99,n=function(){e=null,t()},a=function(){var t=i.now()-o;t<s?h(a,s-t):(p||n)(n)};return function(){o=i.now(),e||(e=h(a,s))}},D=(J=/^img$/i,K=/^iframe$/i,Y="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),X=0,Q=0,Z=0,tt=-1,et=function(t){Z--,(!t||Z<0||!t.target)&&(Z=0)},it=function(t){return null==G&&(G="hidden"==C(e.body,"visibility")),G||!("hidden"==C(t.parentNode,"visibility")&&"hidden"==C(t,"visibility"))},ot=function(t,i){var o,s=t,a=it(t);for(M-=i,W+=i,U-=i,q+=i;a&&(s=s.offsetParent)&&s!=e.body&&s!=n;)(a=(C(s,"opacity")||1)>0)&&"visible"!=C(s,"overflow")&&(o=s.getBoundingClientRect(),a=q>o.left&&U<o.right&&W>o.top-1&&M<o.bottom+1);return a},st=function(){var t,i,a,r,c,h,d,p,u,f,g,b,m=o.elements;if((z=s.loadMode)&&Z<8&&(t=m.length)){for(i=0,tt++;i<t;i++)if(m[i]&&!m[i]._lazyRace)if(!Y||o.prematureUnveil&&o.prematureUnveil(m[i]))pt(m[i]);else if((p=m[i][l]("data-expand"))&&(h=1*p)||(h=Q),f||(f=!s.expand||s.expand<1?n.clientHeight>500&&n.clientWidth>500?500:370:s.expand,o._defEx=f,g=f*s.expFactor,b=s.hFac,G=null,Q<g&&Z<1&&tt>2&&z>2&&!e.hidden?(Q=g,tt=0):Q=z>1&&tt>1&&Z<6?f:X),u!==h&&(F=innerWidth+h*b,H=innerHeight+h,d=-1*h,u=h),a=m[i].getBoundingClientRect(),(W=a.bottom)>=d&&(M=a.top)<=H&&(q=a.right)>=d*b&&(U=a.left)<=F&&(W||q||U||M)&&(s.loadHidden||it(m[i]))&&(_&&Z<3&&!p&&(z<3||tt<4)||ot(m[i],h))){if(pt(m[i]),c=!0,Z>9)break}else!c&&_&&!r&&Z<4&&tt<4&&z>2&&(N[0]||s.preloadAfterLoad)&&(N[0]||!p&&(W||q||U||M||"auto"!=m[i][l](s.sizesAttr)))&&(r=N[0]||m[i]);r&&!c&&pt(r)}},nt=T(st),at=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(et(t),y(e,s.loadedClass),w(e,s.loadingClass),v(e,lt),$(e,"lazyloaded"))},rt=O(at),lt=function(t){rt({target:t.target})},ct=function(t,e){var i=t.getAttribute("data-load-mode")||s.iframeLoadMode;0==i?t.contentWindow.location.replace(e):1==i&&(t.src=e)},ht=function(t){var e,i=t[l](s.srcsetAttr);(e=s.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},dt=O((function(t,e,i,o,n){var a,r,c,d,p,f;(p=$(t,"lazybeforeunveil",e)).defaultPrevented||(o&&(i?y(t,s.autosizesClass):t.setAttribute("sizes",o)),r=t[l](s.srcsetAttr),a=t[l](s.srcAttr),n&&(d=(c=t.parentNode)&&u.test(c.nodeName||"")),f=e.firesLoad||"src"in t&&(r||a||d),p={target:t},y(t,s.loadingClass),f&&(clearTimeout(B),B=h(et,2500),v(t,lt,!0)),d&&b.call(c.getElementsByTagName("source"),ht),r?t.setAttribute("srcset",r):a&&!d&&(K.test(t.nodeName)?ct(t,a):t.src=a),n&&(r||d)&&S(t,{src:a})),t._lazyRace&&delete t._lazyRace,w(t,s.lazyClass),x((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&y(t,s.fastLoadedClass),at(p),t._lazyCache=!0,h((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&Z--}),!0)})),pt=function(t){if(!t._lazyRace){var e,i=J.test(t.nodeName),o=i&&(t[l](s.sizesAttr)||t[l]("sizes")),n="auto"==o;(!n&&_||!i||!t[l]("src")&&!t.srcset||t.complete||m(t,s.errorClass)||!m(t,s.lazyClass))&&(e=$(t,"lazyunveilread").detail,n&&I.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,Z++,dt(t,e,n,o,i))}},ut=P((function(){s.loadMode=3,nt()})),ft=function(){3==s.loadMode&&(s.loadMode=2),ut()},gt=function(){_||(i.now()-L<999?h(gt,999):(_=!0,s.loadMode=3,nt(),c("scroll",ft,!0)))},{_:function(){L=i.now(),o.elements=e.getElementsByClassName(s.lazyClass),N=e.getElementsByClassName(s.lazyClass+" "+s.preloadClass),c("scroll",nt,!0),c("resize",nt,!0),c("pageshow",(function(t){if(t.persisted){var i=e.querySelectorAll("."+s.loadingClass);i.length&&i.forEach&&d((function(){i.forEach((function(t){t.complete&&pt(t)}))}))}})),t.MutationObserver?new MutationObserver(nt).observe(n,{childList:!0,subtree:!0,attributes:!0}):(n[r]("DOMNodeInserted",nt,!0),n[r]("DOMAttrModified",nt,!0),setInterval(nt,999)),c("hashchange",nt,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){e[r](t,nt,!0)})),/d$|^c/.test(e.readyState)?gt():(c("load",gt),e[r]("DOMContentLoaded",nt),h(gt,2e4)),o.elements.length?(st(),x._lsFlush()):nt()},checkElems:nt,unveil:pt,_aLSL:ft}),I=(R=O((function(t,e,i,o){var s,n,a;if(t._lazysizesWidth=o,o+="px",t.setAttribute("sizes",o),u.test(e.nodeName||""))for(n=0,a=(s=e.getElementsByTagName("source")).length;n<a;n++)s[n].setAttribute("sizes",o);i.detail.dataAttr||S(t,i.detail)})),j=function(t,e,i){var o,s=t.parentNode;s&&(i=k(t,s,i),(o=$(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=o.detail.width)&&i!==t._lazysizesWidth&&R(t,s,o,i))},V=P((function(){var t,e=E.length;if(e)for(t=0;t<e;t++)j(E[t])})),{_:function(){E=e.getElementsByClassName(s.autosizesClass),c("resize",V)},checkElems:V,updateElem:j}),A=function(){!A.i&&e.getElementsByClassName&&(A.i=!0,I._(),D._())};var E,R,j,V;var N,_,B,z,L,F,H,M,U,q,W,G,J,K,Y,X,Q,Z,tt,et,it,ot,st,nt,at,rt,lt,ct,ht,dt,pt,ut,ft,gt;var bt,mt,yt,wt,vt,$t,St;return h((function(){s.init&&A()})),o={cfg:s,autoSizer:I,loader:D,init:A,uP:S,aC:y,rC:w,hC:m,fire:$,gW:k,rAF:x}}(e,e.document,Date);e.lazySizes=i,t.exports&&(t.exports=i)}("undefined"!=typeof window?window:{})},2552:(t,e,i)=>{var o,s,n;!function(a,r){if(a){r=r.bind(null,a,a.document),t.exports?r(i(6879)):(s=[i(6879)],void 0===(n="function"==typeof(o=r)?o.apply(e,s):o)||(t.exports=n))}}("undefined"!=typeof window?window:0,(function(t,e,i){"use strict";if(t.addEventListener){var o=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,s=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,n=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,a=/^picture$/i,r=i.cfg,l={getParent:function(e,i){var o=e,s=e.parentNode;return i&&"prev"!=i||!s||!a.test(s.nodeName||"")||(s=s.parentNode),"self"!=i&&(o="prev"==i?e.previousElementSibling:i&&(s.closest||t.jQuery)&&(s.closest?s.closest(i):jQuery(s).closest(i)[0])||s),o},getFit:function(t){var e,i,o=getComputedStyle(t,null)||{},a=o.content||o.fontFamily,r={fit:t._lazysizesParentFit||t.getAttribute("data-parent-fit")};return!r.fit&&a&&(e=a.match(s))&&(r.fit=e[1]),r.fit?(!(i=t._lazysizesParentContainer||t.getAttribute("data-parent-container"))&&a&&(e=a.match(n))&&(i=e[1]),r.parent=l.getParent(t,i)):r.fit=o.objectFit,r},getImageRatio:function(e){var i,s,n,l,c,h,d,p=e.parentNode,u=p&&a.test(p.nodeName||"")?p.querySelectorAll("source, img"):[e];for(i=0;i<u.length;i++)if(s=(e=u[i]).getAttribute(r.srcsetAttr)||e.getAttribute("srcset")||e.getAttribute("data-pfsrcset")||e.getAttribute("data-risrcset")||"",n=e._lsMedia||e.getAttribute("media"),n=r.customMedia[e.getAttribute("data-media")||n]||n,s&&(!n||(t.matchMedia&&matchMedia(n)||{}).matches)){(l=parseFloat(e.getAttribute("data-aspectratio")))||((c=s.match(o))?"w"==c[2]?(h=c[1],d=c[3]):(h=c[3],d=c[1]):(h=e.getAttribute("width"),d=e.getAttribute("height")),l=h/d);break}return l},calculateSize:function(t,e){var i,o,s,n=this.getFit(t),a=n.fit,r=n.parent;return"width"==a||("contain"==a||"cover"==a)&&(o=this.getImageRatio(t))?(r?e=r.clientWidth:r=t,s=e,"width"==a?s=e:(i=e/r.clientHeight)&&("cover"==a&&i<o||"contain"==a&&i>o)&&(s=e*(o/i)),s):e}};i.parentFit=l,e.addEventListener("lazybeforesizes",(function(t){if(!t.defaultPrevented&&t.detail.instance==i){var e=t.target;t.detail.width=l.calculateSize(e,t.detail.width)}}))}}))},5633:()=>{!function(t){"use strict";const e={$el:null,defaultValue:33};t.addEventListener("load",(function(){document.querySelectorAll(".slider-before-after").forEach((t=>{!function(t){const i=Object.assign({},e,t),o=i.$el,s=o.querySelector(".slider-track"),n=o.querySelector(".slider-after-image");o.style.width=getComputedStyle(n).getPropertyValue("width"),o.style.height=getComputedStyle(n).getPropertyValue("height"),s.addEventListener("input",(t=>{const e=Number(t.target.value);n.style.width=`${e}%`})),s.value=i.defaultValue,s.dispatchEvent(new Event("input"))}({$el:t})}))}))}(window)},5869:()=>{!function(t,e,i){var o="touchstart mousedown",s="touchmove mousemove",n="touchend mouseup";t(i).ready((function(){function e(t){for(var e={},i=t.match(/([^;:]+)/g)||[];i.length;)e[i.shift()]=i.shift().trim();return e}t("table").each((function(){"dnd"===t(this).data("table")&&t(this).tableDnD({onDragStyle:t(this).data("ondragstyle")&&e(t(this).data("ondragstyle"))||null,onDropStyle:t(this).data("ondropstyle")&&e(t(this).data("ondropstyle"))||null,onDragClass:undefined===t(this).data("ondragclass")?"tDnD_whileDrag":t(this).data("ondragclass"),onDrop:t(this).data("ondrop")&&new Function("table","row",t(this).data("ondrop")),onDragStart:t(this).data("ondragstart")&&new Function("table","row",t(this).data("ondragstart")),onDragStop:t(this).data("ondragstop")&&new Function("table","row",t(this).data("ondragstop")),scrollAmount:t(this).data("scrollamount")||5,sensitivity:t(this).data("sensitivity")||10,hierarchyLevel:t(this).data("hierarchylevel")||0,indentArtifact:t(this).data("indentartifact")||'<div class="indent">&nbsp;</div>',autoWidthAdjust:t(this).data("autowidthadjust")||!0,autoCleanRelations:t(this).data("autocleanrelations")||!0,jsonPretifySeparator:t(this).data("jsonpretifyseparator")||"\t",serializeRegexp:t(this).data("serializeregexp")&&new RegExp(t(this).data("serializeregexp"))||/[^\-]*$/,serializeParamName:t(this).data("serializeparamname")||!1,dragHandle:t(this).data("draghandle")||null})}))})),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldX:0,oldY:0,build:function(e){return this.each((function(){this.tableDnDConfig=t.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,onDragStop:null,scrollAmount:5,sensitivity:10,hierarchyLevel:0,indentArtifact:'<div class="indent">&nbsp;</div>',autoWidthAdjust:!0,autoCleanRelations:!0,jsonPretifySeparator:"\t",serializeRegexp:/[^\-]*$/,serializeParamName:!1,dragHandle:null},e||{}),t.tableDnD.makeDraggable(this),this.tableDnDConfig.hierarchyLevel&&t.tableDnD.makeIndented(this)})),this},makeIndented:function(e){var i,o,s=e.tableDnDConfig,n=e.rows,a=t(n).first().find("td:first")[0],r=0,l=0;if(t(e).hasClass("indtd"))return null;o=t(e).addClass("indtd").attr("style"),t(e).css({whiteSpace:"nowrap"});for(var c=0;c<n.length;c++)l<t(n[c]).find("td:first").text().length&&(l=t(n[c]).find("td:first").text().length,i=c);for(t(a).css({width:"auto"}),c=0;c<s.hierarchyLevel;c++)t(n[i]).find("td:first").prepend(s.indentArtifact);for(a&&t(a).css({width:a.offsetWidth}),o&&t(e).css(o),c=0;c<s.hierarchyLevel;c++)t(n[i]).find("td:first").children(":first").remove();return s.hierarchyLevel&&t(n).each((function(){(r=t(this).data("level")||0)<=s.hierarchyLevel&&t(this).data("level",r)||t(this).data("level",0);for(var e=0;e<t(this).data("level");e++)t(this).find("td:first").prepend(s.indentArtifact)})),this},makeDraggable:function(e){var i=e.tableDnDConfig;i.dragHandle&&t(i.dragHandle,e).each((function(){t(this).bind(o,(function(o){return t.tableDnD.initialiseDrag(t(this).parents("tr")[0],e,this,o,i),!1}))}))||t(e.rows).each((function(){t(this).hasClass("nodrag")?t(this).css("cursor",""):t(this).bind(o,(function(o){if("TD"===o.target.tagName)return t.tableDnD.initialiseDrag(this,e,this,o,i),!1})).css("cursor","move")}))},currentOrder:function(){var e=this.currentTable.rows;return t.map(e,(function(e){return(t(e).data("level")+e.id).replace(/\s/g,"")})).join("")},initialiseDrag:function(e,o,a,r,l){this.dragObject=e,this.currentTable=o,this.mouseOffset=this.getMouseOffset(a,r),this.originalOrder=this.currentOrder(),t(i).bind(s,this.mousemove).bind(n,this.mouseup),l.onDragStart&&l.onDragStart(o,a)},updateTables:function(){this.each((function(){this.tableDnDConfig&&t.tableDnD.makeDraggable(this)}))},mouseCoords:function(t){return t.originalEvent.changedTouches?{x:t.originalEvent.changedTouches[0].clientX,y:t.originalEvent.changedTouches[0].clientY}:t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+i.body.scrollLeft-i.body.clientLeft,y:t.clientY+i.body.scrollTop-i.body.clientTop}},getMouseOffset:function(t,i){var o,s;return i=i||e.event,s=this.getPosition(t),{x:(o=this.mouseCoords(i)).x-s.x,y:o.y-s.y}},getPosition:function(t){for(var e=0,i=0;t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{x:e+=t.offsetLeft,y:i+=t.offsetTop}},autoScroll:function(t){var o=this.currentTable.tableDnDConfig,s=e.pageYOffset,n=e.innerHeight?e.innerHeight:i.documentElement.clientHeight?i.documentElement.clientHeight:i.body.clientHeight;i.all&&(void 0!==i.compatMode&&"BackCompat"!==i.compatMode?s=i.documentElement.scrollTop:void 0!==i.body&&(s=i.body.scrollTop)),t.y-s<o.scrollAmount&&e.scrollBy(0,-o.scrollAmount)||n-(t.y-s)<o.scrollAmount&&e.scrollBy(0,o.scrollAmount)},moveVerticle:function(t,e){0!==t.vertical&&e&&this.dragObject!==e&&this.dragObject.parentNode===e.parentNode&&(0>t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e.nextSibling)||0<t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e))},moveHorizontal:function(e,i){var o,s=this.currentTable.tableDnDConfig;if(!s.hierarchyLevel||0===e.horizontal||!i||this.dragObject!==i)return null;o=t(i).data("level"),0<e.horizontal&&o>0&&t(i).find("td:first").children(":first").remove()&&t(i).data("level",--o),0>e.horizontal&&o<s.hierarchyLevel&&t(i).prev().data("level")>=o&&t(i).children(":first").prepend(s.indentArtifact)&&t(i).data("level",++o)},mousemove:function(e){var i,o,s,n,a,r=t(t.tableDnD.dragObject),l=t.tableDnD.currentTable.tableDnDConfig;return e&&e.preventDefault(),!!t.tableDnD.dragObject&&("touchmove"===e.type&&event.preventDefault(),l.onDragClass&&r.addClass(l.onDragClass)||r.css(l.onDragStyle),n=(o=t.tableDnD.mouseCoords(e)).x-t.tableDnD.mouseOffset.x,a=o.y-t.tableDnD.mouseOffset.y,t.tableDnD.autoScroll(o),i=t.tableDnD.findDropTargetRow(r,a),s=t.tableDnD.findDragDirection(n,a),t.tableDnD.moveVerticle(s,i),t.tableDnD.moveHorizontal(s,i),!1)},findDragDirection:function(t,e){var i=this.currentTable.tableDnDConfig.sensitivity,o=this.oldX,s=this.oldY,n={horizontal:t>=o-i&&t<=o+i?0:t>o?-1:1,vertical:e>=s-i&&e<=s+i?0:e>s?-1:1};return 0!==n.horizontal&&(this.oldX=t),0!==n.vertical&&(this.oldY=e),n},findDropTargetRow:function(e,i){for(var o=0,s=this.currentTable.rows,n=this.currentTable.tableDnDConfig,a=0,r=null,l=0;l<s.length;l++)if(r=s[l],a=this.getPosition(r).y,o=parseInt(r.offsetHeight)/2,0===r.offsetHeight&&(a=this.getPosition(r.firstChild).y,o=parseInt(r.firstChild.offsetHeight)/2),i>a-o&&i<a+o)return e.is(r)||n.onAllowDrop&&!n.onAllowDrop(e,r)||t(r).hasClass("nodrop")?null:r;return null},processMouseup:function(){if(!this.currentTable||!this.dragObject)return null;var e=this.currentTable.tableDnDConfig,o=this.dragObject,a=0,r=0;t(i).unbind(s,this.mousemove).unbind(n,this.mouseup),e.hierarchyLevel&&e.autoCleanRelations&&t(this.currentTable.rows).first().find("td:first").children().each((function(){(r=t(this).parents("tr:first").data("level"))&&t(this).parents("tr:first").data("level",--r)&&t(this).remove()}))&&e.hierarchyLevel>1&&t(this.currentTable.rows).each((function(){if((r=t(this).data("level"))>1)for(a=t(this).prev().data("level");r>a+1;)t(this).find("td:first").children(":first").remove(),t(this).data("level",--r)})),e.onDragClass&&t(o).removeClass(e.onDragClass)||t(o).css(e.onDropStyle),this.dragObject=null,e.onDrop&&this.originalOrder!==this.currentOrder()&&t(o).hide().fadeIn("fast")&&e.onDrop(this.currentTable,o),e.onDragStop&&e.onDragStop(this.currentTable,o),this.currentTable=null},mouseup:function(e){return e&&e.preventDefault(),t.tableDnD.processMouseup(),!1},jsonize:function(t){var e=this.currentTable;return t?JSON.stringify(this.tableData(e),null,e.tableDnDConfig.jsonPretifySeparator):JSON.stringify(this.tableData(e))},serialize:function(){return t.param(this.tableData(this.currentTable))},serializeTable:function(t){for(var e="",i=t.tableDnDConfig.serializeParamName||t.id,o=t.rows,s=0;s<o.length;s++){e.length>0&&(e+="&");var n=o[s].id;n&&t.tableDnDConfig&&t.tableDnDConfig.serializeRegexp&&(e+=i+"[]="+(n=n.match(t.tableDnDConfig.serializeRegexp)[0]))}return e},serializeTables:function(){var e=[];return t("table").each((function(){this.id&&e.push(t.param(t.tableDnD.tableData(this)))})),e.join("&")},tableData:function(e){var i,o,s,n,a=e.tableDnDConfig,r=[],l=0,c=0,h=null,d={};if(e||(e=this.currentTable),!e||!e.rows||!e.rows.length)return{error:{code:500,message:"Not a valid table."}};if(!e.id&&!a.serializeParamName)return{error:{code:500,message:"No serializable unique id provided."}};n=a.autoCleanRelations&&e.rows||t.makeArray(e.rows),i=function(t){return t&&a&&a.serializeRegexp?t.match(a.serializeRegexp)[0]:t},d[s=o=a.serializeParamName||e.id]=[],!a.autoCleanRelations&&t(n[0]).data("level")&&n.unshift({id:"undefined"});for(var p=0;p<n.length;p++)if(a.hierarchyLevel){if(0===(c=t(n[p]).data("level")||0))s=o,r=[];else if(c>l)r.push([s,l]),s=i(n[p-1].id);else if(c<l)for(var u=0;u<r.length;u++)r[u][1]===c&&(s=r[u][0]),r[u][1]>=l&&(r[u][1]=0);l=c,t.isArray(d[s])||(d[s]=[]),(h=i(n[p].id))&&d[s].push(h)}else(h=i(n[p].id))&&d[s].push(h);return d}},jQuery.fn.extend({tableDnD:t.tableDnD.build,tableDnDUpdate:t.tableDnD.updateTables,tableDnDSerialize:t.proxy(t.tableDnD.serialize,t.tableDnD),tableDnDSerializeAll:t.tableDnD.serializeTables,tableDnDData:t.proxy(t.tableDnD.tableData,t.tableDnD)})}(jQuery,window,window.document)}},t=>{var e;e=2262,t(t.s=e)}]);